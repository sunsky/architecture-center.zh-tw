---
title: 企業移至 Azure 的最佳作法 | Microsoft Docs
description: 說明企業可用來確保安全且可管理環境的 Scaffold。
services: azure-resource-manager
documentationcenter: na
author: rdendtler
manager: timlt
editor: tysonn
ms.assetid: 8692f37e-4d33-4100-b472-a8da37ce628f
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/31/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: b0c92667cc7f4cb2349cd87275c0ce63f2604978
ms.sourcegitcommit: 776b8c1efc662d42273a33de3b82ec69e3cd80c5
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/12/2018
ms.locfileid: "38987745"
---
# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a><span data-ttu-id="c8646-103">Azure 企業 Scaffold - 規定的訂用帳戶治理</span><span class="sxs-lookup"><span data-stu-id="c8646-103">Azure enterprise scaffold - prescriptive subscription governance</span></span>
<span data-ttu-id="c8646-104">企業日漸採用公用雲端，以獲取其靈活度和彈性。</span><span class="sxs-lookup"><span data-stu-id="c8646-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="c8646-105">它們利用雲端的優勢來產生收益，或讓企業的資源達到最佳化。</span><span class="sxs-lookup"><span data-stu-id="c8646-105">They are utilizing the cloud's strengths to generate revenue or optimize resources for the business.</span></span> <span data-ttu-id="c8646-106">Microsoft Azure 提供許多服務，企業可以像堆積木一樣組合這些服務，以處理各式各樣的工作負載和應用程式。</span><span class="sxs-lookup"><span data-stu-id="c8646-106">Microsoft Azure provides a multitude of services that enterprises can assemble like building blocks to address a wide array of workloads and applications.</span></span> 

<span data-ttu-id="c8646-107">但是，要知道從何著手往往很困難。</span><span class="sxs-lookup"><span data-stu-id="c8646-107">But, knowing where to begin is often difficult.</span></span> <span data-ttu-id="c8646-108">決定使用 Azure 之後，經常會產生一些問題︰</span><span class="sxs-lookup"><span data-stu-id="c8646-108">After deciding to use Azure, a few questions commonly arise:</span></span>

* <span data-ttu-id="c8646-109">「如何符合某些國家/地區中資料主權的法律需求？」</span><span class="sxs-lookup"><span data-stu-id="c8646-109">"How do I meet our legal requirements for data sovereignty in certain countries?"</span></span>
* <span data-ttu-id="c8646-110">「如何確保他人不會不慎變更重要系統？」</span><span class="sxs-lookup"><span data-stu-id="c8646-110">"How do I ensure that someone does not inadvertently change a critical system?"</span></span>
* <span data-ttu-id="c8646-111">「如何知道每個資源支援什麼，才能精準地斟酌考量並回收成本？」</span><span class="sxs-lookup"><span data-stu-id="c8646-111">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>

<span data-ttu-id="c8646-112">不必期望空的訂用帳戶不需任何防護措施。</span><span class="sxs-lookup"><span data-stu-id="c8646-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="c8646-113">這個空白空間可能會阻礙您移至 Azure。</span><span class="sxs-lookup"><span data-stu-id="c8646-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="c8646-114">本文是技術專業人員處理治理需求並以靈活度需求加以平衡的起點。</span><span class="sxs-lookup"><span data-stu-id="c8646-114">This article provides a starting point for technical professionals to address the need for governance, and balance it with the need for agility.</span></span> <span data-ttu-id="c8646-115">文中介紹企業 Scaffold 的概念，以引導組織實作和管理其 Azure 訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure subscriptions.</span></span> 

## <a name="need-for-governance"></a><span data-ttu-id="c8646-116">治理需求</span><span class="sxs-lookup"><span data-stu-id="c8646-116">Need for governance</span></span>
<span data-ttu-id="c8646-117">移至 Azure 時，您必須處理早期治理主題，以確保在企業內成功使用雲端。</span><span class="sxs-lookup"><span data-stu-id="c8646-117">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="c8646-118">不幸的是，建立全方位治理系統的時間和體系表示某些事業群會直接接洽廠商，而不需企業 IT 部門參與。</span><span class="sxs-lookup"><span data-stu-id="c8646-118">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to vendors without involving enterprise IT.</span></span> <span data-ttu-id="c8646-119">如果沒有妥善管理資源，這種方法可能會讓企業遭受攻擊。</span><span class="sxs-lookup"><span data-stu-id="c8646-119">This approach can leave the enterprise open to vulnerabilities if the resources are not properly managed.</span></span> <span data-ttu-id="c8646-120">公用雲端的特性包含靈活度、彈性和以取用量為基礎的價格，這些特性對於必須快速滿足 (內部和外部) 客戶需求的事業群而言極為重要。</span><span class="sxs-lookup"><span data-stu-id="c8646-120">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="c8646-121">但是，企業 IT 部門需要確保資料和系統受到有效的保護。</span><span class="sxs-lookup"><span data-stu-id="c8646-121">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="c8646-122">在現實生活中，Scaffolding 用來建立結構的基礎。</span><span class="sxs-lookup"><span data-stu-id="c8646-122">In real life, scaffolding is used to create the basis of the structure.</span></span> <span data-ttu-id="c8646-123">Scaffold 可引導一般輪廓，並可為即將裝載的永久系統提供更多的錨點。</span><span class="sxs-lookup"><span data-stu-id="c8646-123">The scaffold guides the general outline, and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="c8646-124">企業 Scaffold 也是如此︰一組有彈性的控制項和可提供環境結構的 Azure 功能，以及公用雲端上所建置服務的錨點。</span><span class="sxs-lookup"><span data-stu-id="c8646-124">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="c8646-125">它可做為建置者 (IT 和事業群) 建立和附加新服務的基礎。</span><span class="sxs-lookup"><span data-stu-id="c8646-125">It provides the builders (IT and business groups) a foundation to create and attach new services.</span></span>

<span data-ttu-id="c8646-126">Scaffold 是以我們經由與各種規模的用戶端合作而蒐集到的實務作法為基礎。</span><span class="sxs-lookup"><span data-stu-id="c8646-126">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="c8646-127">這些用戶端包含在雲端開發解決方案的小型組織，以至 Fortune 500 大企業和在雲端移轉並開發解決方案的獨立軟體廠商。</span><span class="sxs-lookup"><span data-stu-id="c8646-127">Those clients range from small organizations developing solutions in the cloud to Fortune 500 enterprises and independent software vendors who are migrating and developing solutions in the cloud.</span></span> <span data-ttu-id="c8646-128">企業 Scaffold 是「為了特定目的而建置」成彈性支援傳統 IT 工作負載和敏捷式工作負載；例如，建立以 Azure 功能為基礎之軟體即服務 (SaaS) 應用程式的開發人員。</span><span class="sxs-lookup"><span data-stu-id="c8646-128">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure capabilities.</span></span>

<span data-ttu-id="c8646-129">企業 Scaffold 的用意是要成為 Azure 中每個新訂用帳戶的基礎。</span><span class="sxs-lookup"><span data-stu-id="c8646-129">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="c8646-130">它可讓系統管理員確保工作負載符合組織的最低治理需求，而不會阻礙事業群和開發人員快速達成他們自己的目標。</span><span class="sxs-lookup"><span data-stu-id="c8646-130">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c8646-131">治理是 Azure 成功的重要關鍵。</span><span class="sxs-lookup"><span data-stu-id="c8646-131">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="c8646-132">本文是以企業 Scaffold 的技術實作為目標，但只論及更廣泛的處理程序和元件之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="c8646-132">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="c8646-133">原則治理會從上而下流動，並由需要達成的業務來決定。</span><span class="sxs-lookup"><span data-stu-id="c8646-133">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="c8646-134">當然，Azure 治理模型的建立納入 IT 部門代表，但更重要的是應該具有來自事業群領導者及安全性和風險管理階層的強大代表性。</span><span class="sxs-lookup"><span data-stu-id="c8646-134">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="c8646-135">最後，企業 Scaffold 與降低業務風險有關，以達成組織的任務與目標。</span><span class="sxs-lookup"><span data-stu-id="c8646-135">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives.</span></span>
> 
> 

<span data-ttu-id="c8646-136">下圖描述 Scaffold 的元件。</span><span class="sxs-lookup"><span data-stu-id="c8646-136">The following image describes the components of the scaffold.</span></span> <span data-ttu-id="c8646-137">其基礎依賴於部門、帳戶和訂用帳戶的可靠計畫。</span><span class="sxs-lookup"><span data-stu-id="c8646-137">The foundation relies on a solid plan for departments, accounts, and subscriptions.</span></span> <span data-ttu-id="c8646-138">其要件是由 Resource Manager 原則和強大的命名標準所組成。</span><span class="sxs-lookup"><span data-stu-id="c8646-138">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="c8646-139">Scaffold 的其餘部分是來自 Azure 核心功能，而這些功能可打造出安全且易於管理的環境。</span><span class="sxs-lookup"><span data-stu-id="c8646-139">The rest of the scaffold comes from core Azure capabilities and features that enable a secure and manageable environment.</span></span>

![scaffold 元件](./_images/components.png)

> [!NOTE]
> <span data-ttu-id="c8646-141">Azure 自 2008 年引進後就急速成長。</span><span class="sxs-lookup"><span data-stu-id="c8646-141">Azure has grown rapidly since its introduction in 2008.</span></span> <span data-ttu-id="c8646-142">此種成長讓 Microsoft 工程設計團隊不得不重新思考其管理和部署服務的方式。</span><span class="sxs-lookup"><span data-stu-id="c8646-142">This growth required Microsoft engineering teams to rethink their approach for managing and deploying services.</span></span> <span data-ttu-id="c8646-143">Azure Resource Manager 模型在 2014 年引進，並取代傳統部署模型。</span><span class="sxs-lookup"><span data-stu-id="c8646-143">The Azure Resource Manager model was introduced in 2014 and replaces the classic deployment model.</span></span> <span data-ttu-id="c8646-144">Resource Manager 可讓組織更輕鬆地部署、組織和控制 Azure 資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-144">Resource Manager enables organizations to more easily deploy, organize, and control Azure resources.</span></span> <span data-ttu-id="c8646-145">Resource Manager 在建立資源時納入平行處理，以加快部署複雜、互相依存方案的速度。</span><span class="sxs-lookup"><span data-stu-id="c8646-145">Resource Manager includes parallelization when creating resources for faster deployment of complex, interdependent solutions.</span></span> <span data-ttu-id="c8646-146">它還包含細微的存取控制，以及利用中繼資料標記資源的功能。</span><span class="sxs-lookup"><span data-stu-id="c8646-146">It also includes granular access control, and the ability to tag resources with metadata.</span></span> <span data-ttu-id="c8646-147">Microsoft 建議您透過 Resource Manager 模型建立所有的資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-147">Microsoft recommends that you create all resources through the Resource Manager model.</span></span> <span data-ttu-id="c8646-148">企業 Scaffold 明顯是針對 Resource Manager 模型而設計。</span><span class="sxs-lookup"><span data-stu-id="c8646-148">The enterprise scaffold is explicitly designed for the Resource Manager model.</span></span>
> 
> 

## <a name="define-your-hierarchy"></a><span data-ttu-id="c8646-149">定義您的階層</span><span class="sxs-lookup"><span data-stu-id="c8646-149">Define your hierarchy</span></span>
<span data-ttu-id="c8646-150">Azure Enterprise Enrollment (和企業版入口網站) 是 Scaffold 的基礎。</span><span class="sxs-lookup"><span data-stu-id="c8646-150">The foundation of the scaffold is the Azure Enterprise Enrollment (and the Enterprise Portal).</span></span> <span data-ttu-id="c8646-151">Enterprise Enrollment 是核心治理結構，可定義公司內 Azure 服務的形式和用途。</span><span class="sxs-lookup"><span data-stu-id="c8646-151">The enterprise enrollment defines the shape and use of Azure services within a company and is the core governance structure.</span></span> <span data-ttu-id="c8646-152">在企業合約中，客戶能夠進一步將環境細分成部門、帳戶和最終的訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-152">Within the enterprise agreement, customers are able to further subdivide the environment into departments, accounts, and finally, subscriptions.</span></span> <span data-ttu-id="c8646-153">Azure 訂用帳戶是內含所有資源的基本單位。</span><span class="sxs-lookup"><span data-stu-id="c8646-153">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="c8646-154">它也可在 Azure 中定義數個限制，例如核心、資源等的數目。</span><span class="sxs-lookup"><span data-stu-id="c8646-154">It also defines several limits within Azure, such as number of cores, resources, etc.</span></span>

![階層](./_images/agreement.png)

<span data-ttu-id="c8646-156">每個企業都不同，上圖中的階層對於在公司內組織 Azure 的方式容許極大的彈性。</span><span class="sxs-lookup"><span data-stu-id="c8646-156">Every enterprise is different and the hierarchy in the previous image allows for significant flexibility in how Azure is organized within the company.</span></span> <span data-ttu-id="c8646-157">實作本文件內含的指引之前，您應該塑造您的階層，並了解對於計費、資源存取和複雜度的影響。</span><span class="sxs-lookup"><span data-stu-id="c8646-157">Before implementing the guidance contained in this document, you should model your hierarchy and understand the impact on billing, resource access, and complexity.</span></span>

<span data-ttu-id="c8646-158">Azure Enrollment 的三個常見模式如下︰</span><span class="sxs-lookup"><span data-stu-id="c8646-158">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="c8646-159">**功能**模式</span><span class="sxs-lookup"><span data-stu-id="c8646-159">The **functional** pattern</span></span>
  
    ![函數](./_images/functional.png)
* <span data-ttu-id="c8646-161">**業務單位**模式</span><span class="sxs-lookup"><span data-stu-id="c8646-161">The **business unit** pattern</span></span> 
  
    ![業務](./_images/business.png)
* <span data-ttu-id="c8646-163">**地理**模式</span><span class="sxs-lookup"><span data-stu-id="c8646-163">The **geographic** pattern</span></span>
  
    ![地理](./_images/geographic.png)

<span data-ttu-id="c8646-165">您可在訂用帳戶層級套用 scaffold，將企業的治理需求延伸到訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-165">You apply the scaffold at the subscription level to extend the governance requirements of the enterprise into the subscription.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="c8646-166">命名標準</span><span class="sxs-lookup"><span data-stu-id="c8646-166">Naming standards</span></span>
<span data-ttu-id="c8646-167">Scaffold 的第一要件是命名標準。</span><span class="sxs-lookup"><span data-stu-id="c8646-167">The first pillar of the scaffold is naming standards.</span></span> <span data-ttu-id="c8646-168">設計良好的命名標準可讓您識別入口網站中、帳單上和指令碼內的資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-168">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="c8646-169">最有可能的是，您已經有內部部署基礎結構的命名標準。</span><span class="sxs-lookup"><span data-stu-id="c8646-169">Most likely, you already have naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="c8646-170">將 Azure 新增至您的環境時，您應該將這些命名標準延伸至 Azure 資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-170">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span> <span data-ttu-id="c8646-171">命名標準有助於更有效率地在所有層級管理環境。</span><span class="sxs-lookup"><span data-stu-id="c8646-171">Naming standard facilitate more efficient management of the environment at all levels.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-172">針對命名慣例：</span><span class="sxs-lookup"><span data-stu-id="c8646-172">For naming conventions:</span></span>
> * <span data-ttu-id="c8646-173">檢閱並且盡可能採用[模式與實例指南](../best-practices/naming-conventions.md)。</span><span class="sxs-lookup"><span data-stu-id="c8646-173">Review and adopt where possible the [Patterns and Practices guidance](../best-practices/naming-conventions.md).</span></span> <span data-ttu-id="c8646-174">本指南可協助您決定有意義的命名標準。</span><span class="sxs-lookup"><span data-stu-id="c8646-174">This guidance helps you decide on a meaningful naming standard.</span></span>
> * <span data-ttu-id="c8646-175">將 camelCasing 使用於資源的名稱 (例如 myResourceGroup 和 vnetNetworkName)。</span><span class="sxs-lookup"><span data-stu-id="c8646-175">Use camelCasing for names of resources (such as myResourceGroup and vnetNetworkName).</span></span> <span data-ttu-id="c8646-176">附註︰有些資源 (例如儲存體帳戶) 的唯一選項是使用小寫 (和其他特殊字元)。</span><span class="sxs-lookup"><span data-stu-id="c8646-176">Note: There are certain resources, such as storage accounts, where the only option is to use lower case (and no other special characters).</span></span>
> * <span data-ttu-id="c8646-177">請考慮使用 Azure Resource Manager 原則 (在下一節中說明) 來強制執行命名標準。</span><span class="sxs-lookup"><span data-stu-id="c8646-177">Consider using Azure Resource Manager policies (described in the next section) to enforce naming standards.</span></span>
> 
> <span data-ttu-id="c8646-178">上述的祕訣可協助您實作一致的命名慣例。</span><span class="sxs-lookup"><span data-stu-id="c8646-178">The preceding tips help you implement a consistent naming convention.</span></span>

## <a name="policies-and-auditing"></a><span data-ttu-id="c8646-179">原則和稽核</span><span class="sxs-lookup"><span data-stu-id="c8646-179">Policies and auditing</span></span>
<span data-ttu-id="c8646-180">Scaffold 的第二要件牽涉到建立 [Azure 原則](/azure/azure-policy/azure-policy-introduction)和[稽核活動記錄](/azure/azure-resource-manager/resource-group-audit)。</span><span class="sxs-lookup"><span data-stu-id="c8646-180">The second pillar of the scaffold involves creating [Azure policies](/azure/azure-policy/azure-policy-introduction) and [auditing the activity log](/azure/azure-resource-manager/resource-group-audit).</span></span> <span data-ttu-id="c8646-181">Resource Manager 原則讓您能夠管理 Azure 中的風險。</span><span class="sxs-lookup"><span data-stu-id="c8646-181">Resource Manager policies provide you with the ability to manage risk in Azure.</span></span> <span data-ttu-id="c8646-182">您可以定義一些原則，藉由限制、強制執行或稽核特定動作來確保資料主權。</span><span class="sxs-lookup"><span data-stu-id="c8646-182">You can define policies that ensure data sovereignty by restricting, enforcing, or auditing certain actions.</span></span> 

* <span data-ttu-id="c8646-183">原則是預設**允許**系統。</span><span class="sxs-lookup"><span data-stu-id="c8646-183">Policy is a default **allow** system.</span></span> <span data-ttu-id="c8646-184">您可定義原則並將原則指派給拒絕或稽核資源動作的資源，藉此控制動作。</span><span class="sxs-lookup"><span data-stu-id="c8646-184">You control actions by defining and assigning policies to resources that deny or audit actions on resources.</span></span>
* <span data-ttu-id="c8646-185">原則定義會以原則定義語言 (if-then 條件) 描述原則。</span><span class="sxs-lookup"><span data-stu-id="c8646-185">Policies are described by policy definitions in a policy definition language (if-then conditions).</span></span>
* <span data-ttu-id="c8646-186">您可使用 JSON (Javascript 物件標記法) 格式的檔案建立原則。</span><span class="sxs-lookup"><span data-stu-id="c8646-186">You create polices with JSON (Javascript Object Notation) formatted files.</span></span> <span data-ttu-id="c8646-187">定義原則後，將它指派給特定的範圍︰訂用帳戶、資源群組或資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-187">After defining a policy, you assign it to a particular scope: subscription, resource group, or resource.</span></span>

<span data-ttu-id="c8646-188">原則有多個動作可允許細微控管您的案例。</span><span class="sxs-lookup"><span data-stu-id="c8646-188">Policies have multiple actions that allow for a fine-grained approach to your scenarios.</span></span> <span data-ttu-id="c8646-189">動作如下︰</span><span class="sxs-lookup"><span data-stu-id="c8646-189">The actions are:</span></span>

* <span data-ttu-id="c8646-190">**拒絕**︰封鎖資源要求</span><span class="sxs-lookup"><span data-stu-id="c8646-190">**Deny**: Blocks the resource request</span></span>
* <span data-ttu-id="c8646-191">**稽核**︰允許要求，但會在活動記錄檔中加入一行文字 (這可用來提供警示或觸發 Runbook)</span><span class="sxs-lookup"><span data-stu-id="c8646-191">**Audit**: Allows the request but adds a line to the activity log (which can be used to provide alerts or to trigger runbooks)</span></span>
* <span data-ttu-id="c8646-192">**附加**︰將指定的資訊新增到資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-192">**Append**: Adds specified information to the resource.</span></span> <span data-ttu-id="c8646-193">例如，如果資源上沒有 "CostCenter" 標籤，則新增具有預設值的該標籤。</span><span class="sxs-lookup"><span data-stu-id="c8646-193">For example, if there is not a "CostCenter" tag on a resource, add that tag with a default value.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="c8646-194">Resource Manager 原則的常見用途</span><span class="sxs-lookup"><span data-stu-id="c8646-194">Common uses of Resource Manager policies</span></span>
<span data-ttu-id="c8646-195">Azure Resource Manager 原則是 Azure 工具組中功能強大的工具。</span><span class="sxs-lookup"><span data-stu-id="c8646-195">Azure Resource Manager policies are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="c8646-196">這類原則可讓您避免非預期的成本，進而透過標籤來識別資源的成本中心，並確保符合法規需求。</span><span class="sxs-lookup"><span data-stu-id="c8646-196">They enable you to avoid unexpected costs, to identify a cost center for resources through tagging, and to ensure that compliancy requirements are met.</span></span> <span data-ttu-id="c8646-197">當原則搭配內建稽核功能時，您可以塑造複雜但有彈性的解決方案。</span><span class="sxs-lookup"><span data-stu-id="c8646-197">When policies are combined with the built-in auditing features, you can fashion complex and flexible solutions.</span></span> <span data-ttu-id="c8646-198">原則可讓公司掌控「傳統 IT」工作負載與「敏捷式」工作負載；例如，開發客戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="c8646-198">Policies allow companies to provide controls for "Traditional IT" workloads and "Agile" workloads; such as, developing customer applications.</span></span> <span data-ttu-id="c8646-199">我們最常見的原則模式如下︰</span><span class="sxs-lookup"><span data-stu-id="c8646-199">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="c8646-200">**地區相容性/資料主權** - Azure 提供的區域遍及世界各地。</span><span class="sxs-lookup"><span data-stu-id="c8646-200">**Geo-compliance/data sovereignty** - Azure provides regions across the world.</span></span> <span data-ttu-id="c8646-201">企業通常會想要控制資源的建立位置 (不論是為了確保資料主權，或只是為了確保資源建立於靠近資源取用者的地方)。</span><span class="sxs-lookup"><span data-stu-id="c8646-201">Enterprises often wish to control where resources are created (whether to ensure data sovereignty or just to ensure resources are created close to the end consumers of the resources).</span></span>
* <span data-ttu-id="c8646-202">**成本管理** - Azure 訂用帳戶可以包含許多類型的資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-202">**Cost management** - An Azure subscription can contain resources of many types and scale.</span></span> <span data-ttu-id="c8646-203">公司通常想要確保標準訂用帳戶避免使用過大的資源，以節省每個月數百美元或更高金額的成本。</span><span class="sxs-lookup"><span data-stu-id="c8646-203">Corporations often wish to ensure that standard subscriptions avoid using unnecessarily large resources, which can cost hundreds of dollars a month or more.</span></span>
* <span data-ttu-id="c8646-204">**透過必要標籤預設治理** - 必要標籤是最常見且高度所需的功能。</span><span class="sxs-lookup"><span data-stu-id="c8646-204">**Default governance through required tags** - Requiring tags is one of the most common and highly desired features.</span></span> <span data-ttu-id="c8646-205">使用 Azure Resource Manager 原則，企業就可以確保適當地標記資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-205">Using Azure Resource Manager Policies enterprises are able to ensure that a resource is appropriately tagged.</span></span> <span data-ttu-id="c8646-206">最常見的標記︰部門、資源擁有者及環境類型 (例如生產、測試、開發)</span><span class="sxs-lookup"><span data-stu-id="c8646-206">The most common tags are: Department, Resource Owner, and Environment type (for example - production, test, development)</span></span>

<span data-ttu-id="c8646-207">**範例**</span><span class="sxs-lookup"><span data-stu-id="c8646-207">**Examples**</span></span>

<span data-ttu-id="c8646-208">企業營運應用程式的「傳統 IT」訂用帳戶</span><span class="sxs-lookup"><span data-stu-id="c8646-208">"Traditional IT" subscription for line-of-business applications</span></span>

* <span data-ttu-id="c8646-209">對所有資源強制使用「部門」和「擁有者」標籤</span><span class="sxs-lookup"><span data-stu-id="c8646-209">Enforce Department and Owner tags on all resources</span></span>
* <span data-ttu-id="c8646-210">限制資源建立於北美地區</span><span class="sxs-lookup"><span data-stu-id="c8646-210">Restrict resource creation to the North American Region</span></span>
* <span data-ttu-id="c8646-211">限制建立 G 系列 VM 和 HDInsight 叢集的能力</span><span class="sxs-lookup"><span data-stu-id="c8646-211">Restrict the ability to create G-Series VMs and HDInsight Clusters</span></span>

<span data-ttu-id="c8646-212">可供業務單位建立雲端應用程式的「敏捷式」環境</span><span class="sxs-lookup"><span data-stu-id="c8646-212">"Agile" Environment for a business unit creating cloud applications</span></span>

* <span data-ttu-id="c8646-213">為了符合資料主權需求，只允許在特定區域建立資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-213">To meet data sovereignty requirements, allow the creation of resources ONLY in a specific region.</span></span>
* <span data-ttu-id="c8646-214">對所有資源強制使用「環境」標籤。</span><span class="sxs-lookup"><span data-stu-id="c8646-214">Enforce Environment tag on all resources.</span></span> <span data-ttu-id="c8646-215">如果建立的資源沒有標籤，則將 [環境︰未知] 標籤附加到資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-215">If a resource is created without a tag, append the **Environment: Unknown** tag to the resource.</span></span>
* <span data-ttu-id="c8646-216">當資源建立於北美地區以外時進行稽核，但不阻止。</span><span class="sxs-lookup"><span data-stu-id="c8646-216">Audit when resources are created outside of North America but do not prevent.</span></span>
* <span data-ttu-id="c8646-217">建立高成本的資源時進行稽核。</span><span class="sxs-lookup"><span data-stu-id="c8646-217">Audit when high-cost resources are created.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-218">各組織最常用的 Resource Manager 原則是控制「何處」可以建立資源以及可以建立「何種」類型的資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-218">The most common use of Resource Manager policies across organizations is to control *where* resources can be created and *what* types of resources can be created.</span></span> <span data-ttu-id="c8646-219">除了控制「何處」和「何種」以外，許多企業會使用原則來確保資源有適當的中繼資料可收回取用成本。</span><span class="sxs-lookup"><span data-stu-id="c8646-219">In addition to providing controls on *where* and *what*, many enterprises use policies to ensure resources have the appropriate metadata to bill back for consumption.</span></span> <span data-ttu-id="c8646-220">我們建議針對下列各項在訂用帳戶層級套用原則︰</span><span class="sxs-lookup"><span data-stu-id="c8646-220">We recommend applying policies at the subscription level for:</span></span>
> 
> * <span data-ttu-id="c8646-221">地區相容性/資料主權</span><span class="sxs-lookup"><span data-stu-id="c8646-221">Geo-compliance/data sovereignty</span></span>
> * <span data-ttu-id="c8646-222">成本管理</span><span class="sxs-lookup"><span data-stu-id="c8646-222">Cost management</span></span>
> * <span data-ttu-id="c8646-223">必要標籤 (依照業務需求判斷，例如 BillTo、應用程式擁有者)</span><span class="sxs-lookup"><span data-stu-id="c8646-223">Required tags (Determined by business need, such as BillTo, Application Owner)</span></span>
> 
> <span data-ttu-id="c8646-224">您可以在較低的範圍層級套用其他原則。</span><span class="sxs-lookup"><span data-stu-id="c8646-224">You can apply additional policies at lower levels of scope.</span></span>
> 
> 

### <a name="audit---what-happened"></a><span data-ttu-id="c8646-225">稽核 - 發生什麼情形？</span><span class="sxs-lookup"><span data-stu-id="c8646-225">Audit - what happened?</span></span>
<span data-ttu-id="c8646-226">若要檢視環境的運作情況，您需要稽核使用者活動。</span><span class="sxs-lookup"><span data-stu-id="c8646-226">To view how your environment is functioning, you need to audit user activity.</span></span> <span data-ttu-id="c8646-227">Azure 中的大多數資源類型都會建立診斷記錄，您可以透過記錄工具或在 Azure Log Analytics 中進行分析。</span><span class="sxs-lookup"><span data-stu-id="c8646-227">Most resource types within Azure create diagnostic logs that you can analyze through a log tool or in Azure Log Analytics.</span></span> <span data-ttu-id="c8646-228">您可以蒐集多個訂用帳戶的活動記錄檔，以提供部門或企業觀點。</span><span class="sxs-lookup"><span data-stu-id="c8646-228">You can gather activity logs across multiple subscriptions to provide a departmental or enterprise view.</span></span> <span data-ttu-id="c8646-229">稽核記錄是很重要的診斷工具，同時也是在 Azure 環境中觸發事件的重要機制。</span><span class="sxs-lookup"><span data-stu-id="c8646-229">Audit records are both an important diagnostic tool and a crucial mechanism to trigger events in the Azure environment.</span></span>

<span data-ttu-id="c8646-230">Resource Manager 部署的活動記錄檔可讓您判斷已發生的**作業**以及其執行者。</span><span class="sxs-lookup"><span data-stu-id="c8646-230">Activity logs from Resource Manager deployments enable you to determine the **operations** that took place and who performed them.</span></span> <span data-ttu-id="c8646-231">使用 Log Analytics 等工具可以收集和彙總活動記錄檔。</span><span class="sxs-lookup"><span data-stu-id="c8646-231">Activity logs can be collected and aggregated using tools like Log Analytics.</span></span>


## <a name="resource-group"></a><span data-ttu-id="c8646-232">資源群組</span><span class="sxs-lookup"><span data-stu-id="c8646-232">Resource group</span></span>
<span data-ttu-id="c8646-233">Resource Manager 可讓您將資源放入有意義的群組，以便管理、計費或達到自然親和性。</span><span class="sxs-lookup"><span data-stu-id="c8646-233">Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="c8646-234">如先前所述，Azure 有兩個部署模型。</span><span class="sxs-lookup"><span data-stu-id="c8646-234">As mentioned earlier, Azure has two deployment models.</span></span> <span data-ttu-id="c8646-235">在舊版的傳統模型中，管理的基本單位是訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-235">In the earlier Classic model, the basic unit of management was the subscription.</span></span> <span data-ttu-id="c8646-236">訂用帳戶內的資源難以細分，以致建立大量的訂用帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-236">It was difficult to break down resources within a subscription, which led to the creation of large numbers of subscriptions.</span></span> <span data-ttu-id="c8646-237">使用 Resource Manager 模型，我們看到資源群組的引入。</span><span class="sxs-lookup"><span data-stu-id="c8646-237">With the Resource Manager model, we saw the introduction of resource groups.</span></span> <span data-ttu-id="c8646-238">資源群組是資源的容器，其中的資源具有共同的生命週期或共用「所有 SQL 伺服器」或「應用程式 A」等屬性。</span><span class="sxs-lookup"><span data-stu-id="c8646-238">Resource groups are containers of resources that have a common lifecycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="c8646-239">資源群組不能彼此包含，且資源只能屬於一個資源群組。</span><span class="sxs-lookup"><span data-stu-id="c8646-239">Resource groups cannot be contained within each other and resources can only belong to one resource group.</span></span> <span data-ttu-id="c8646-240">您可以將某些動作套用於資源群組中的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-240">You can apply certain actions on all resources in a resource group.</span></span> <span data-ttu-id="c8646-241">例如，刪除資源群組即可移除資源群組內的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-241">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="c8646-242">一般而言，您可將整個應用程式或相關系統放在相同的資源群組中。</span><span class="sxs-lookup"><span data-stu-id="c8646-242">Typically, you place an entire application or related system in the same resource group.</span></span> <span data-ttu-id="c8646-243">例如，名為 Contoso Web 應用程式的三層應用程式會包含相同資源群組中的 Web 伺服器、應用程式伺服器和 SQL 伺服器。</span><span class="sxs-lookup"><span data-stu-id="c8646-243">For example, a three-tier application called Contoso Web Application would contain the web server, application server and SQL server in the same resource group.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-244">就「傳統 IT」工作負載與「敏捷式 IT」工作負載而言，您組織資源群組的方式可能會有所不同：</span><span class="sxs-lookup"><span data-stu-id="c8646-244">How you organize your resource groups may vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>
> 
> * <span data-ttu-id="c8646-245">「傳統 IT」工作負載通常會依照相同生命週期內的項目分組，例如應用程式。</span><span class="sxs-lookup"><span data-stu-id="c8646-245">"Traditional IT" workloads are most commonly grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="c8646-246">依照應用程式分組，即可進行個別應用程式管理。</span><span class="sxs-lookup"><span data-stu-id="c8646-246">Grouping by application allows for individual application management.</span></span>
> * <span data-ttu-id="c8646-247">「敏捷式 IT」工作負載傾向著重於外部客戶面向的雲端應用程式。</span><span class="sxs-lookup"><span data-stu-id="c8646-247">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="c8646-248">資源群組應反映出部署 (例如 Web 層、應用程式) 和管理的層次。</span><span class="sxs-lookup"><span data-stu-id="c8646-248">The resource groups should reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>
> 
> <span data-ttu-id="c8646-249">了解您的工作負載可協助您開發資源群組策略。</span><span class="sxs-lookup"><span data-stu-id="c8646-249">Understanding your workload helps you develop a resource group strategy.</span></span>


## <a name="resource-tags"></a><span data-ttu-id="c8646-250">資源標籤</span><span class="sxs-lookup"><span data-stu-id="c8646-250">Resource tags</span></span>
<span data-ttu-id="c8646-251">隨著組織中的使用者將資源新增至訂用帳戶，讓資源與適當的部門、客戶和環境建立關聯變得越來越重要。</span><span class="sxs-lookup"><span data-stu-id="c8646-251">As users in your organization add resources to the subscription, it becomes increasingly important to associate resources with the appropriate department, customer, and environment.</span></span> <span data-ttu-id="c8646-252">您可以透過[標籤](/azure/azure-resource-manager/resource-group-using-tags)將中繼資料附加到資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-252">You can attach metadata to resources through [tags](/azure/azure-resource-manager/resource-group-using-tags).</span></span> <span data-ttu-id="c8646-253">您可以使用標籤來提供資源或擁有者的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="c8646-253">You use tags to provide information about the resource or the owner.</span></span> <span data-ttu-id="c8646-254">標籤不僅可讓您以各種方式彙總及群組資源，並可將該資料用於退款目的。</span><span class="sxs-lookup"><span data-stu-id="c8646-254">Tags enable you to not only aggregate and group resources in various ways, but use that data for the purposes of chargeback.</span></span> <span data-ttu-id="c8646-255">您可以最多使用 15 個機碼值組來標記資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-255">You can tag resources with up to 15 key:value pairs.</span></span> 

<span data-ttu-id="c8646-256">資源標籤富有彈性且應該附加到大多數資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-256">Resource tags are flexible and should be attached to most resources.</span></span> <span data-ttu-id="c8646-257">常見資源標籤的範例如下︰</span><span class="sxs-lookup"><span data-stu-id="c8646-257">Examples of common resource tags are:</span></span>

* <span data-ttu-id="c8646-258">BillTo</span><span class="sxs-lookup"><span data-stu-id="c8646-258">BillTo</span></span>
* <span data-ttu-id="c8646-259">部門 (或業務單位)</span><span class="sxs-lookup"><span data-stu-id="c8646-259">Department (or Business Unit)</span></span>
* <span data-ttu-id="c8646-260">環境 (生產、預備、開發)</span><span class="sxs-lookup"><span data-stu-id="c8646-260">Environment (Production, Stage, Development)</span></span>
* <span data-ttu-id="c8646-261">層次 (Web 層、應用程式層)</span><span class="sxs-lookup"><span data-stu-id="c8646-261">Tier (Web Tier, Application Tier)</span></span>
* <span data-ttu-id="c8646-262">應用程式擁有者</span><span class="sxs-lookup"><span data-stu-id="c8646-262">Application Owner</span></span>
* <span data-ttu-id="c8646-263">ProjectName</span><span class="sxs-lookup"><span data-stu-id="c8646-263">ProjectName</span></span>

![tags](./_images/resource-group-tagging.png)

<span data-ttu-id="c8646-265">如需更多標籤範例，請參閱 [Azure 資源的建議命名慣例](../best-practices/naming-conventions.md)。</span><span class="sxs-lookup"><span data-stu-id="c8646-265">For more examples of tags, see [Recommended naming conventions for Azure resources](../best-practices/naming-conventions.md).</span></span>

> [!TIP]
> <span data-ttu-id="c8646-266">請考慮針對下列各項制定可強制標記的原則︰</span><span class="sxs-lookup"><span data-stu-id="c8646-266">Consider making a policy that mandates tagging for:</span></span>
> 
> * <span data-ttu-id="c8646-267">資源群組</span><span class="sxs-lookup"><span data-stu-id="c8646-267">Resource groups</span></span>
> * <span data-ttu-id="c8646-268">儲存體</span><span class="sxs-lookup"><span data-stu-id="c8646-268">Storage</span></span>
> * <span data-ttu-id="c8646-269">虛擬機器</span><span class="sxs-lookup"><span data-stu-id="c8646-269">Virtual Machines</span></span>
> * <span data-ttu-id="c8646-270">應用程式服務環境/Web 伺服器</span><span class="sxs-lookup"><span data-stu-id="c8646-270">Application Service Environments/web servers</span></span>
> 
> <span data-ttu-id="c8646-271">此標記策略可在所有訂用帳戶上識別業務、財務、安全性、風險管理和環境整體管理方面所需的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="c8646-271">This tagging strategy identifies across your subscriptions what metadata is needed for the business, finance, security, risk management, and overall management of the environment.</span></span> 



## <a name="role-based-access-control"></a><span data-ttu-id="c8646-272">角色型存取控制</span><span class="sxs-lookup"><span data-stu-id="c8646-272">Role-based access control</span></span>
<span data-ttu-id="c8646-273">您可能會自問「誰應擁有資源的存取權？」</span><span class="sxs-lookup"><span data-stu-id="c8646-273">You probably are asking yourself "who should have access to resources?"</span></span> <span data-ttu-id="c8646-274">以及「如何控制此存取權？」</span><span class="sxs-lookup"><span data-stu-id="c8646-274">and "how do I control this access?"</span></span> <span data-ttu-id="c8646-275">允許或不允許存取 Azure 入口網站，以及控制入口網站中資源的存取很重要。</span><span class="sxs-lookup"><span data-stu-id="c8646-275">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is crucial.</span></span> 

<span data-ttu-id="c8646-276">Azure 最初發行時，訂用帳戶的存取控制是基本的︰系統管理員或共同管理員。</span><span class="sxs-lookup"><span data-stu-id="c8646-276">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="c8646-277">存取傳統模型中的訂用帳戶，意味著存取入口網站中的所有資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-277">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="c8646-278">缺乏細微控制導致訂用帳戶激增，進而為 Azure Enrollment 提供合理的存取控制層級。</span><span class="sxs-lookup"><span data-stu-id="c8646-278">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span>

<span data-ttu-id="c8646-279">不再需要此種訂用帳戶激增情況。</span><span class="sxs-lookup"><span data-stu-id="c8646-279">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="c8646-280">使用[角色型存取控制](/azure/role-based-access-control/overview)，您可以將使用者指派給標準角色 (例如常見的「讀取者」和「寫入者」角色類型)。</span><span class="sxs-lookup"><span data-stu-id="c8646-280">With [role-based access control](/azure/role-based-access-control/overview), you can assign users to standard roles (such as common "reader" and "writer" types of roles).</span></span> <span data-ttu-id="c8646-281">您也可以定義自訂角色。</span><span class="sxs-lookup"><span data-stu-id="c8646-281">You can also define custom roles.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-282">實作角色型存取控制：</span><span class="sxs-lookup"><span data-stu-id="c8646-282">To implement role-based access control:</span></span>
> * <span data-ttu-id="c8646-283">使用 AD Connect 工具，將公司的身份識別存放區 (通常是 Active Directory) 連接到 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="c8646-283">Connect your corporate identity store (most commonly Active Directory) to Azure Active Directory using the AD Connect tool.</span></span>
> * <span data-ttu-id="c8646-284">使用受控身分識別，控制訂用帳戶的系統管理員/共同管理員。</span><span class="sxs-lookup"><span data-stu-id="c8646-284">Control the Admin/Co-Admin of a subscription using a managed identity.</span></span> <span data-ttu-id="c8646-285">**不要**將系統管理員/共同管理員指派給新的訂用帳戶擁有者。</span><span class="sxs-lookup"><span data-stu-id="c8646-285">**Don't** assign Admin/Co-admin to a new subscription owner.</span></span> <span data-ttu-id="c8646-286">相反地，使用 RBAC 角色將**擁有者**權限提供給群組或個人。</span><span class="sxs-lookup"><span data-stu-id="c8646-286">Instead, use RBAC roles to provide **Owner** rights to a group or individual.</span></span>
> * <span data-ttu-id="c8646-287">將 Azure 使用者新增至 Active Directory 中的群組 (例如，應用程式 X 擁有者)。</span><span class="sxs-lookup"><span data-stu-id="c8646-287">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="c8646-288">使用已同步處理的群組，提供群組成員管理資源群組 (包含應用程式) 的適當權限。</span><span class="sxs-lookup"><span data-stu-id="c8646-288">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
> * <span data-ttu-id="c8646-289">依照授與執行預期工作所需**最低權限**的原則。</span><span class="sxs-lookup"><span data-stu-id="c8646-289">Follow the principle of granting the **least privilege** required to do the expected work.</span></span> <span data-ttu-id="c8646-290">例如︰</span><span class="sxs-lookup"><span data-stu-id="c8646-290">For example:</span></span>
>   * <span data-ttu-id="c8646-291">部署群組︰唯一能夠部署資源的群組。</span><span class="sxs-lookup"><span data-stu-id="c8646-291">Deployment Group: A group that is only able to deploy resources.</span></span>
>   * <span data-ttu-id="c8646-292">虛擬機器管理︰能夠重新啟動 VM (以便執行作業) 的群組</span><span class="sxs-lookup"><span data-stu-id="c8646-292">Virtual Machine Management: A group that is able to restart VMs (for operations)</span></span>
> 
> <span data-ttu-id="c8646-293">這些祕訣可協助您跨訂用帳戶管理使用者存取。</span><span class="sxs-lookup"><span data-stu-id="c8646-293">These tips help you manage user access across your subscription.</span></span>

## <a name="azure-resource-locks"></a><span data-ttu-id="c8646-294">Azure 資源鎖定</span><span class="sxs-lookup"><span data-stu-id="c8646-294">Azure resource locks</span></span>
<span data-ttu-id="c8646-295">隨著您的組織將核心服務新增至訂用帳戶，確保這些服務的可用性以避免業務中斷變得越來越重要。</span><span class="sxs-lookup"><span data-stu-id="c8646-295">As your organization adds core services to the subscription, it becomes increasingly important to ensure that those services are available to avoid business disruption.</span></span> <span data-ttu-id="c8646-296">[資源鎖定](/azure/azure-resource-manager/resource-group-lock-resources)可讓您限制對珍貴資源執行的作業，而修改或刪除這類資源會嚴重影響您的應用程式或雲端基礎結構。</span><span class="sxs-lookup"><span data-stu-id="c8646-296">[Resource locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact on your applications or cloud infrastructure.</span></span> <span data-ttu-id="c8646-297">您可以將鎖定套用至訂用帳戶、資源群組或資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-297">You can apply locks to a subscription, resource group, or resource.</span></span> <span data-ttu-id="c8646-298">一般而言，您會將鎖定套用至基礎資源，例如虛擬網路、閘道和儲存體帳戶。</span><span class="sxs-lookup"><span data-stu-id="c8646-298">Typically, you apply locks to foundational resources such as virtual networks, gateways, and storage accounts.</span></span> 

<span data-ttu-id="c8646-299">資源鎖定目前支援兩個值︰CanNotDelete 和 ReadOnly。</span><span class="sxs-lookup"><span data-stu-id="c8646-299">Resource locks currently support two values: CanNotDelete and ReadOnly.</span></span> <span data-ttu-id="c8646-300">CanNotDelete 表示使用者 (具有適當權限) 仍可讀取或修改資源，但無法加以刪除。</span><span class="sxs-lookup"><span data-stu-id="c8646-300">CanNotDelete means that users (with the appropriate rights) can still read or modify a resource but cannot delete it.</span></span> <span data-ttu-id="c8646-301">ReadOnly 表示經過授權的使用者無法刪除或修改資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-301">ReadOnly means that authorized users can't delete or modify a resource.</span></span>

<span data-ttu-id="c8646-302">若要建立或刪除管理鎖定，您必須擁有 `Microsoft.Authorization/*` 或 `Microsoft.Authorization/locks/*` 動作的存取權。</span><span class="sxs-lookup"><span data-stu-id="c8646-302">To create or delete management locks, you must have access to `Microsoft.Authorization/*` or `Microsoft.Authorization/locks/*` actions.</span></span>
<span data-ttu-id="c8646-303">在內建角色中，只有「擁有者」和「使用者存取管理員」被授與這些動作的存取權。</span><span class="sxs-lookup"><span data-stu-id="c8646-303">Of the built-in roles, only Owner and User Access Administrator are granted those actions.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-304">應該以鎖定保護核心網路選項。</span><span class="sxs-lookup"><span data-stu-id="c8646-304">Core network options should be protected with locks.</span></span> <span data-ttu-id="c8646-305">對 Azure 訂用帳戶而言，意外刪除閘道、站對站 VPN 是個大災難。</span><span class="sxs-lookup"><span data-stu-id="c8646-305">Accidental deletion of a gateway, site-to-site VPN would be disastrous to an Azure subscription.</span></span> <span data-ttu-id="c8646-306">Azure 不允許您刪除使用中的虛擬網路，但套用更多的限制是很有用的預防措施。</span><span class="sxs-lookup"><span data-stu-id="c8646-306">Azure doesn't allow you to delete a virtual network that is in use, but applying more restrictions is a helpful precaution.</span></span> 
> 
> * <span data-ttu-id="c8646-307">虛擬網路︰CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="c8646-307">Virtual Network: CanNotDelete</span></span>
> * <span data-ttu-id="c8646-308">網路安全性群組︰CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="c8646-308">Network Security Group: CanNotDelete</span></span>
> * <span data-ttu-id="c8646-309">原則︰CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="c8646-309">Policies: CanNotDelete</span></span>
> 
> <span data-ttu-id="c8646-310">原則對於適當控制項的維護也十分重要。</span><span class="sxs-lookup"><span data-stu-id="c8646-310">Policies are also crucial to the maintenance of appropriate controls.</span></span> <span data-ttu-id="c8646-311">我們建議您將 **CanNotDelete** 鎖定套用到正在使用的原則。</span><span class="sxs-lookup"><span data-stu-id="c8646-311">We recommend that you apply a **CanNotDelete** lock to polices that are in use.</span></span>

## <a name="core-networking-resources"></a><span data-ttu-id="c8646-312">核心網路資源</span><span class="sxs-lookup"><span data-stu-id="c8646-312">Core networking resources</span></span>
<span data-ttu-id="c8646-313">資源的存取可以是內部的 (在公司網路內) 或外部的 (透過網際網路)。</span><span class="sxs-lookup"><span data-stu-id="c8646-313">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="c8646-314">您組織中的使用者很容易不小心將資源放在錯誤的位置，並可能加以開啟而遭到惡意存取。</span><span class="sxs-lookup"><span data-stu-id="c8646-314">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="c8646-315">針對內部部署裝置，企業必須加上適度的控制，以確保 Azure 使用者能做出適當的決策。</span><span class="sxs-lookup"><span data-stu-id="c8646-315">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="c8646-316">針對訂用帳戶治理，我們會找出可提供基本存取控制的核心資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-316">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="c8646-317">核心資源是由下列各項所組成︰</span><span class="sxs-lookup"><span data-stu-id="c8646-317">The core resources consist of:</span></span>

* <span data-ttu-id="c8646-318">**虛擬網路**是子網路的容器物件。</span><span class="sxs-lookup"><span data-stu-id="c8646-318">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="c8646-319">雖然不是絕對必要，但通常使用於將應用程式連接到內部公司資源時。</span><span class="sxs-lookup"><span data-stu-id="c8646-319">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="c8646-320">**網路安全性群組**類似於防火牆，可提供資源如何透過網路「交談」的規則。</span><span class="sxs-lookup"><span data-stu-id="c8646-320">**Network security groups** are similar to a firewall and provide rules for how a resource can "talk" over the network.</span></span> <span data-ttu-id="c8646-321">這類群組可細微控制子網路 (或虛擬機器) 如何/是否可以連接到網際網路或相同虛擬網路中的其他子網路。</span><span class="sxs-lookup"><span data-stu-id="c8646-321">They provide granular control over how/if a subnet (or virtual machine) can connect to the Internet or other subnets in the same virtual network.</span></span>

![核心網路](./_images/core-network.png)

> [!TIP]
> <span data-ttu-id="c8646-323">針對網路：</span><span class="sxs-lookup"><span data-stu-id="c8646-323">For networking:</span></span>
> * <span data-ttu-id="c8646-324">建立外部工作負載與內部工作負載專用的虛擬網路。</span><span class="sxs-lookup"><span data-stu-id="c8646-324">Create virtual networks dedicated to external-facing workloads and internal-facing workloads.</span></span> <span data-ttu-id="c8646-325">此方法可減少不慎將預計用於內部工作負載的虛擬機器放入對外空間的機會。</span><span class="sxs-lookup"><span data-stu-id="c8646-325">This approach reduces the chance of inadvertently placing virtual machines that are intended for internal workloads in an external facing space.</span></span>
> * <span data-ttu-id="c8646-326">設定網路安全性群組以限制存取。</span><span class="sxs-lookup"><span data-stu-id="c8646-326">Configure network security groups to limit access.</span></span> <span data-ttu-id="c8646-327">至少，封鎖從內部虛擬網路時存取網際網路，以及封鎖從外部虛擬網路存取公司網路。</span><span class="sxs-lookup"><span data-stu-id="c8646-327">At a minimum, block access to the internet from internal virtual networks, and block access to the corporate network from external virtual networks.</span></span>
> 
> <span data-ttu-id="c8646-328">這些祕訣可協助您實作安全的網路資源。</span><span class="sxs-lookup"><span data-stu-id="c8646-328">These tips help you implement secure networking resources.</span></span>

## <a name="automation"></a><span data-ttu-id="c8646-329">自動化</span><span class="sxs-lookup"><span data-stu-id="c8646-329">Automation</span></span>
<span data-ttu-id="c8646-330">個別管理資源相當耗時，而且某些作業可能容易發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="c8646-330">Managing resources individually is both time-consuming and potentially error prone for certain operations.</span></span> <span data-ttu-id="c8646-331">Azure 提供了各種自動化功能，包括 Azure 自動化、Logic Apps 和 Azure Functions。</span><span class="sxs-lookup"><span data-stu-id="c8646-331">Azure provides various automation capabilities including Azure Automation, Logic Apps, and Azure Functions.</span></span> <span data-ttu-id="c8646-332">[Azure 自動化](/azure/automation/automation-intro)可讓系統管理員建立和定義 Runbook，以便處理管理資源時的一般工作。</span><span class="sxs-lookup"><span data-stu-id="c8646-332">[Azure Automation](/azure/automation/automation-intro) enables administrators to create and define runbooks to handle common tasks in managing resources.</span></span> <span data-ttu-id="c8646-333">您可以使用 PowerShell 程式碼編輯器或圖形化編輯器來建立 Runbook。</span><span class="sxs-lookup"><span data-stu-id="c8646-333">You create runbooks by using either a PowerShell code editor or a graphical editor.</span></span> <span data-ttu-id="c8646-334">您可以產生複雜的多階段工作流程。</span><span class="sxs-lookup"><span data-stu-id="c8646-334">You can produce complex multi-stage workflows.</span></span> <span data-ttu-id="c8646-335">Azure 自動化通常用來處理一般工作，例如關閉未使用的資源，或建立資源來回應特定觸發程序，而不需要人為介入。</span><span class="sxs-lookup"><span data-stu-id="c8646-335">Azure Automation is often used to handle common tasks such as shutting down unused resources, or creating resources in response to a specific trigger without needing human intervention.</span></span>

> [!TIP]
> <span data-ttu-id="c8646-336">針對自動化：</span><span class="sxs-lookup"><span data-stu-id="c8646-336">For automation:</span></span>
> * <span data-ttu-id="c8646-337">建立 Azure 自動化帳戶，並檢閱 [Runbook 資源庫](/azure/automation/automation-runbook-gallery)中可用的 Runbook (圖形化和命令列)。</span><span class="sxs-lookup"><span data-stu-id="c8646-337">Create an Azure Automation account and review the available runbooks (both graphical and command line) available in the [Runbook Gallery](/azure/automation/automation-runbook-gallery).</span></span>
> * <span data-ttu-id="c8646-338">匯入並自訂重要 Runbook，以便自己使用。</span><span class="sxs-lookup"><span data-stu-id="c8646-338">Import and customize key runbooks for your own use.</span></span>
> 
> <span data-ttu-id="c8646-339">常見的案例是依照排程啟動/關閉虛擬機器的功能。</span><span class="sxs-lookup"><span data-stu-id="c8646-339">A common scenario is the ability to Start/Shutdown virtual machines on a schedule.</span></span> <span data-ttu-id="c8646-340">資源庫中有範例 Runbook 可用，這些 Runbook 可處理這種情況並教導您如何加以展開。</span><span class="sxs-lookup"><span data-stu-id="c8646-340">There are example runbooks that are available in the Gallery that both handle this scenario and teach you how to expand it.</span></span>
> 
> 

## <a name="azure-security-center"></a><span data-ttu-id="c8646-341">Azure 資訊安全中心</span><span class="sxs-lookup"><span data-stu-id="c8646-341">Azure Security Center</span></span>
<span data-ttu-id="c8646-342">過度考量安全性或許是雲端採用的其中一個最大阻礙。</span><span class="sxs-lookup"><span data-stu-id="c8646-342">Perhaps one of the biggest blockers to cloud adoption has been the concerns over security.</span></span> <span data-ttu-id="c8646-343">IT 風險管理員和資訊安全部門必須確保 Azure 中的資源是安全的。</span><span class="sxs-lookup"><span data-stu-id="c8646-343">IT risk managers and security departments need to ensure that resources in Azure are secure.</span></span> 

<span data-ttu-id="c8646-344">[Azure 資訊安全中心](/azure/security-center/security-center-intro)可供集中檢視訂用帳戶中資源的安全性狀態，並提供有助於預防資源遭到入侵的相關建議。</span><span class="sxs-lookup"><span data-stu-id="c8646-344">The [Azure Security Center](/azure/security-center/security-center-intro) provides a central view of the security status of resources in the subscriptions, and provides recommendations that help prevent compromised resources.</span></span> <span data-ttu-id="c8646-345">它可以啟用更細微的原則 (例如，將原則套用至特定的資源群組，讓企業能針對他們所面臨的風險來調整其立場態度)。</span><span class="sxs-lookup"><span data-stu-id="c8646-345">It can enable more granular policies (for example, applying policies to specific resource groups that allow the enterprise to tailor their posture to the risk they are addressing).</span></span> <span data-ttu-id="c8646-346">最後，Azure 資訊安全中心是一個開放平台，可讓 Microsoft 合作夥伴和獨立軟體廠商建立可外掛到 Azure 資訊安全中心的軟體，以增強其功能。</span><span class="sxs-lookup"><span data-stu-id="c8646-346">Finally, Azure Security Center is an open platform that enables Microsoft partners and independent software vendors to create software that plugs into Azure Security Center to enhance its capabilities.</span></span> 

> [!TIP]
> <span data-ttu-id="c8646-347">根據預設，Azure 資訊安全中心會在每個訂用帳戶中啟用。</span><span class="sxs-lookup"><span data-stu-id="c8646-347">Azure Security Center is enabled by default in each subscription.</span></span> <span data-ttu-id="c8646-348">不過，您必須啟用從虛擬機器收集資料的功能，以允許 Azure 資訊安全中心安裝其代理程式並開始蒐集資料。</span><span class="sxs-lookup"><span data-stu-id="c8646-348">However, you must enable data collection from virtual machines to allow Azure Security Center to install its agent and begin gathering data.</span></span>
> 
> ![資料收集](./_images/data-collection.png)
> 
> 

## <a name="next-steps"></a><span data-ttu-id="c8646-350">後續步驟</span><span class="sxs-lookup"><span data-stu-id="c8646-350">Next steps</span></span>
* <span data-ttu-id="c8646-351">既然您已了解訂用帳戶治理，現在就可以參閱這些實務建議。</span><span class="sxs-lookup"><span data-stu-id="c8646-351">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="c8646-352">請參閱[實作 Azure 訂用帳戶治理的範例](subscription-governance-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="c8646-352">See [Examples of implementing Azure subscription governance](subscription-governance-examples.md).</span></span>
