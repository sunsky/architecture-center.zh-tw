---
title: 線上分析處理 (OLAP)
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: 92b71934f2081e95c3c9b0d4dc9edeb3885b12e8
ms.sourcegitcommit: e67b751f230792bba917754d67789a20810dc76b
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/06/2018
---
# <a name="online-analytical-processing-olap"></a><span data-ttu-id="2fa7b-102">線上分析處理 (OLAP)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-102">Online analytical processing (OLAP)</span></span>

<span data-ttu-id="2fa7b-103">線上分析處理 (OLAP) 是一種可組織大型企業資料庫和支援複雜分析的技術。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-103">Online analytical processing (OLAP) is a technology that organizes large business databases and supports complex analysis.</span></span> <span data-ttu-id="2fa7b-104">它可用來執行複雜的分析查詢，且不會對交易系統造成負面影響。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-104">It can be used to perform complex analytical queries without negatively affecting transactional systems.</span></span>

<span data-ttu-id="2fa7b-105">企業用來儲存其所有交易和記錄的資料庫，稱為[線上交易處理 (OLTP)](online-transaction-processing.md) 資料庫。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-105">The databases that a business uses to store all its transactions and records are called [online transaction processing (OLTP)](online-transaction-processing.md) databases.</span></span> <span data-ttu-id="2fa7b-106">這些資料庫通常具有逐一輸入的記錄。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-106">These databases usually have records that are entered one at a time.</span></span> <span data-ttu-id="2fa7b-107">它們常包含大量對組織有價值的資訊。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-107">Often they contain a great deal of information that is valuable to the organization.</span></span> <span data-ttu-id="2fa7b-108">不過，用於 OLTP 的資料庫並不是針對分析而設計的。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-108">The databases that are used for OLTP, however, were not designed for analysis.</span></span> <span data-ttu-id="2fa7b-109">因此，要從這些資料庫擷取答案，必須耗費許多時間與精力。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-109">Therefore, retrieving answers from these databases is costly in terms of time and effort.</span></span> <span data-ttu-id="2fa7b-110">OLAP 系統的目的是要協助您以高效能的方式從資料中擷取這項商業智慧資訊。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-110">OLAP systems were designed to help extract this business intelligence information from the data in a highly performant way.</span></span> <span data-ttu-id="2fa7b-111">這是因為，OLAP 資料庫針對大量讀取、低量寫入工作負載而進行了最佳化。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-111">This is because OLAP databases are optimized for heavy read, low write workloads.</span></span>

![Azure 中的 OLAP](../images/olap-data-pipeline.png) 

## <a name="semantic-modeling"></a><span data-ttu-id="2fa7b-113">語意模型</span><span class="sxs-lookup"><span data-stu-id="2fa7b-113">Semantic modeling</span></span>

<span data-ttu-id="2fa7b-114">語意資料模型是一種會說明它所包含的資料元素代表何意的概念模型。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-114">A semantic data model is a conceptual model that describes the meaning of the data elements it contains.</span></span> <span data-ttu-id="2fa7b-115">組織通常會有自己的詞彙，有時也會有同義字，甚或相同的詞彙會有不同的意義。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-115">Organizations often have their own terms for things, sometimes with synonyms, or even different meanings for the same term.</span></span> <span data-ttu-id="2fa7b-116">例如，庫存資料庫可能會以資產識別碼和序號追蹤某項設備，但銷售資料庫卻可能將序號視為資產識別碼。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-116">For example, an inventory database might track a piece of equipment with an asset ID and a serial number, but a sales database might refer to the serial number as the asset ID.</span></span> <span data-ttu-id="2fa7b-117">若未以模型說明關聯性，即無法輕易釐清這些值的關聯。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-117">There is no simple way to relate these values without a model that describes the relationship.</span></span> 

<span data-ttu-id="2fa7b-118">語意模型提供了資料庫結構描述的抽象層，讓使用者無須了解基礎資料結構。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-118">Semantic modeling provides a level of abstraction over the database schema, so that users don't need to know the underlying data structures.</span></span> <span data-ttu-id="2fa7b-119">這可讓使用者更容易查詢資料，而無須對基礎結構描述執行彙總與聯結。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-119">This makes it easier for end users to query data without performing aggregates and joins over the underlying schema.</span></span> <span data-ttu-id="2fa7b-120">此外，資料行通常也會重新命名為使用者易記的名稱，而使得資料的內容和意義更容易理解。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-120">Also, usually columns are renamed to more user-friendly names, so that the context and meaning of the data are more obvious.</span></span>

<span data-ttu-id="2fa7b-121">語意模型絕大多數用於大量讀取案例，例如分析和商業智慧 (OLAP)，而不是大量寫入的交易資料處理 (OLTP)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-121">Semantic modeling is predominately used for read-heavy scenarios, such as analytics and business intelligence (OLAP), as opposed to more write-heavy transactional data processing (OLTP).</span></span> <span data-ttu-id="2fa7b-122">這主要是由於一般語意層的本質所致：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-122">This is mostly due to the nature of a typical semantic layer:</span></span>

- <span data-ttu-id="2fa7b-123">會設定彙總行為，讓報告工具能夠正確顯示這些行為。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-123">Aggregation behaviors are set so that reporting tools display them properly.</span></span>
- <span data-ttu-id="2fa7b-124">會定義商務邏輯和計算方式。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-124">Business logic and calculations are defined.</span></span>
- <span data-ttu-id="2fa7b-125">會包含時間導向的計算。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-125">Time-oriented calculations are included.</span></span>
- <span data-ttu-id="2fa7b-126">資料常整合自多個來源。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-126">Data is often integrated from multiple sources.</span></span> 

<span data-ttu-id="2fa7b-127">傳統上，資料倉儲之所以加上語意層，都是基於這些原因。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-127">Traditionally, the semantic layer is placed over a data warehouse for these reasons.</span></span>

![資料倉儲與報告工具之間的語意層範例圖](../images/semantic-modeling.png)

<span data-ttu-id="2fa7b-129">語意模型主要分成兩種類型：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-129">There are two primary types of semantic models:</span></span>

* <span data-ttu-id="2fa7b-130">**表格式**。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-130">**Tabular**.</span></span> <span data-ttu-id="2fa7b-131">使用關聯式模型建構 (模型、資料表、資料行)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-131">Uses relational modeling constructs (model, tables, columns).</span></span> <span data-ttu-id="2fa7b-132">在內部，中繼資料會繼承自 OLAP 模型建構 (Cube、維度、量值)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-132">Internally, metadata is inherited from OLAP modeling constructs (cubes, dimensions, measures).</span></span> <span data-ttu-id="2fa7b-133">程式碼和指令碼會使用 OLAP 中繼資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-133">Code and script use OLAP metadata.</span></span>
* <span data-ttu-id="2fa7b-134">**多維度**。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-134">**Multidimensional**.</span></span> <span data-ttu-id="2fa7b-135">使用傳統 OLAP 模型建構 (Cube、維度、量值)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-135">Uses traditional OLAP modeling constructs (cubes, dimensions, measures).</span></span>

<span data-ttu-id="2fa7b-136">相關 Azure 服務：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-136">Relevant Azure service:</span></span>
- [<span data-ttu-id="2fa7b-137">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-137">Azure Analysis Services</span></span>](https://azure.microsoft.com/services/analysis-services/)

## <a name="example-use-case"></a><span data-ttu-id="2fa7b-138">使用案例範例</span><span class="sxs-lookup"><span data-stu-id="2fa7b-138">Example use case</span></span>

<span data-ttu-id="2fa7b-139">某個組織有儲存在大型資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-139">An organization has data stored in a large database.</span></span> <span data-ttu-id="2fa7b-140">該組織想要將此資料提供給商業使用者與客戶建立其自己的報表，並進行某些分析。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-140">It wants to make this data available to business users and customers to create their own reports and do some analysis.</span></span> <span data-ttu-id="2fa7b-141">其中一個選項，是直接將資料庫的直接存取權提供給這些使用者。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-141">One option is just to give those users direct access to the database.</span></span> <span data-ttu-id="2fa7b-142">不過，這麼做有幾個缺點，包括必須管理安全性和控制存取。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-142">However, there are several drawbacks to doing this, including managing security and controlling access.</span></span> <span data-ttu-id="2fa7b-143">此外，使用者可能難以了解資料庫的設計，包括資料表和資料行的名稱。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-143">Also, the design of the database, including the names of tables and columns, may be hard for a user to understand.</span></span> <span data-ttu-id="2fa7b-144">使用者必須知道應查詢哪些資料表、如何聯結這些資料表，以及還必須套用哪些商務邏輯才能取得正確的結果。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-144">Users would need to know which tables to query, how those tables should be joined, and other business logic that must be applied to get the correct results.</span></span> <span data-ttu-id="2fa7b-145">使用者甚至還必須了解類似於 SQL 的查詢語言，才能展開作業。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-145">Users would also need to know a query language like SQL even to get started.</span></span> <span data-ttu-id="2fa7b-146">這通常會導致報告相同計量的多個使用者得到不同的結果。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-146">Typically this leads to multiple users reporting the same metrics but with different results.</span></span>

<span data-ttu-id="2fa7b-147">另一個選項，是將使用者所需的所有資訊封裝在語意模型中。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-147">Another option is to encapsulate all of the information that users need into a semantic model.</span></span> <span data-ttu-id="2fa7b-148">使用者可使用自己選擇的報告工具，更輕鬆地查詢語意模型。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-148">The semantic model can be more easily queried by users with a reporting tool of their choice.</span></span> <span data-ttu-id="2fa7b-149">語意模型所提供的資料提取自資料倉儲，以確保所有使用者會都看到相同版本的事實。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-149">The data provided by the semantic model is pulled from a data warehouse, ensuring that all users see a single version of the truth.</span></span> <span data-ttu-id="2fa7b-150">語意模型也提供易記的資料表和資料行名稱、資料表之間的關聯性、描述、計算和資料列層級安全性。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-150">The semantic model also provides friendly table and column names, relationships between tables, descriptions, calculations, and row-level security.</span></span>

## <a name="typical-traits-of-semantic-modeling"></a><span data-ttu-id="2fa7b-151">語意模型的一般特性</span><span class="sxs-lookup"><span data-stu-id="2fa7b-151">Typical traits of semantic modeling</span></span>

<span data-ttu-id="2fa7b-152">語意模型和分析處理常會有下列特性：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-152">Semantic modeling and analytical processing tends to have the following traits:</span></span>

| <span data-ttu-id="2fa7b-153">需求</span><span class="sxs-lookup"><span data-stu-id="2fa7b-153">Requirement</span></span> | <span data-ttu-id="2fa7b-154">說明</span><span class="sxs-lookup"><span data-stu-id="2fa7b-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="2fa7b-155">結構描述</span><span class="sxs-lookup"><span data-stu-id="2fa7b-155">Schema</span></span> | <span data-ttu-id="2fa7b-156">寫入結構描述，強制執行</span><span class="sxs-lookup"><span data-stu-id="2fa7b-156">Schema on write, strongly enforced</span></span>|
| <span data-ttu-id="2fa7b-157">使用交易</span><span class="sxs-lookup"><span data-stu-id="2fa7b-157">Uses Transactions</span></span> | <span data-ttu-id="2fa7b-158">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-158">No</span></span> |
| <span data-ttu-id="2fa7b-159">鎖定策略</span><span class="sxs-lookup"><span data-stu-id="2fa7b-159">Locking Strategy</span></span> | <span data-ttu-id="2fa7b-160">None</span><span class="sxs-lookup"><span data-stu-id="2fa7b-160">None</span></span> |
| <span data-ttu-id="2fa7b-161">可更新</span><span class="sxs-lookup"><span data-stu-id="2fa7b-161">Updateable</span></span> | <span data-ttu-id="2fa7b-162">否 (通常需要重新計算 Cube)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-162">No (typically requires recomputing cube)</span></span> |
| <span data-ttu-id="2fa7b-163">可附加</span><span class="sxs-lookup"><span data-stu-id="2fa7b-163">Appendable</span></span> | <span data-ttu-id="2fa7b-164">否 (通常需要重新計算 Cube)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-164">No (typically requires recomputing cube)</span></span> |
| <span data-ttu-id="2fa7b-165">工作負載</span><span class="sxs-lookup"><span data-stu-id="2fa7b-165">Workload</span></span> | <span data-ttu-id="2fa7b-166">大量讀取，唯讀</span><span class="sxs-lookup"><span data-stu-id="2fa7b-166">Heavy reads, read-only</span></span> |
| <span data-ttu-id="2fa7b-167">編製索引</span><span class="sxs-lookup"><span data-stu-id="2fa7b-167">Indexing</span></span> | <span data-ttu-id="2fa7b-168">多維度索引</span><span class="sxs-lookup"><span data-stu-id="2fa7b-168">Multidimensional indexing</span></span> |
| <span data-ttu-id="2fa7b-169">資料大小</span><span class="sxs-lookup"><span data-stu-id="2fa7b-169">Datum size</span></span> | <span data-ttu-id="2fa7b-170">中小型</span><span class="sxs-lookup"><span data-stu-id="2fa7b-170">Small to medium sized</span></span> |
| <span data-ttu-id="2fa7b-171">模型</span><span class="sxs-lookup"><span data-stu-id="2fa7b-171">Model</span></span> | <span data-ttu-id="2fa7b-172">多維度</span><span class="sxs-lookup"><span data-stu-id="2fa7b-172">Multidimensional</span></span> |
| <span data-ttu-id="2fa7b-173">資料圖形：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-173">Data shape:</span></span>| <span data-ttu-id="2fa7b-174">Cube 或星狀/雪花式結構描述</span><span class="sxs-lookup"><span data-stu-id="2fa7b-174">Cube or star/snowflake schema</span></span> |
| <span data-ttu-id="2fa7b-175">查詢彈性</span><span class="sxs-lookup"><span data-stu-id="2fa7b-175">Query flexibility</span></span> | <span data-ttu-id="2fa7b-176">高彈性</span><span class="sxs-lookup"><span data-stu-id="2fa7b-176">Highly flexible</span></span> |
| <span data-ttu-id="2fa7b-177">規模：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-177">Scale:</span></span> | <span data-ttu-id="2fa7b-178">大型 (10s-100s GB)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-178">Large (10s-100s GBs)</span></span> |

## <a name="when-to-use-this-solution"></a><span data-ttu-id="2fa7b-179">此解決方案的使用時機</span><span class="sxs-lookup"><span data-stu-id="2fa7b-179">When to use this solution</span></span>

<span data-ttu-id="2fa7b-180">在下列情況下請考慮使用 OLAP：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-180">Consider OLAP in the following scenarios:</span></span>

- <span data-ttu-id="2fa7b-181">您需要快速執行複雜的分析與特定查詢，且不會對 OLTP 系統造成負面影響。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-181">You need to execute complex analytical and ad hoc queries rapidly, without negatively affecting your OLTP systems.</span></span> 
- <span data-ttu-id="2fa7b-182">您想要為商業使用者提供簡單的方式，從您的資料產生報表</span><span class="sxs-lookup"><span data-stu-id="2fa7b-182">You want to provide business users with a simple way to generate reports from your data</span></span>
- <span data-ttu-id="2fa7b-183">您想要提供多種彙總方式，讓使用者能夠取得快速且一致的結果。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-183">You want to provide a number of aggregations that will allow users to get fast, consistent results.</span></span> 

<span data-ttu-id="2fa7b-184">為大量資料套用彙總計算時，OLAP 特別具有效益。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-184">OLAP is especially useful for applying aggregate calculations over large amounts of data.</span></span> <span data-ttu-id="2fa7b-185">OLAP 系統針對大量讀取案例進行了最佳化，例如分析和商業智慧。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-185">OLAP systems are optimized for read-heavy scenarios, such as analytics and business intelligence.</span></span> <span data-ttu-id="2fa7b-186">OLAP 可讓使用者將多維度資料切分成能夠二維檢視的配量 (例如樞紐分析表)，或是依特定值篩選資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-186">OLAP allows users to segment multi-dimensional data into slices that can be viewed in two dimensions (such as a pivot table) or filter the data by specific values.</span></span> <span data-ttu-id="2fa7b-187">此程序有時也稱為「切割與細分」資料，無論資料是否跨數個資料來源進行分割，都可以執行。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-187">This process is sometimes called "slicing and dicing" the data, and can be done regardless of whether the data is partitioned across several data sources.</span></span> <span data-ttu-id="2fa7b-188">這有助於使用者找出趨勢和模式以及瀏覽資料，而無須得知傳統資料分析的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-188">This helps users to find trends, spot patterns, and explore the data without having to know the details of traditional data analysis.</span></span>

<span data-ttu-id="2fa7b-189">語意模型可協助商業使用者抽離關聯的複雜性，而更輕鬆快速地分析資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-189">Semantic models can help business users abstract relationship complexities and make it easier to analyze data quickly.</span></span>

## <a name="challenges"></a><span data-ttu-id="2fa7b-190">挑戰</span><span class="sxs-lookup"><span data-stu-id="2fa7b-190">Challenges</span></span>

<span data-ttu-id="2fa7b-191">在獲得 OLAP 系統提供的所有優點之前，有若干難題有待克服：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-191">For all the benefits OLAP systems provide, they do produce a few challenges:</span></span>

- <span data-ttu-id="2fa7b-192">雖然 OLTP 系統中的資料會透過從各種來源流入的交易持續更新，但 OLAP 資料存放區通常會根據商業需求，以頻率遠低於此的間隔重新整理。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-192">Whereas data in OLTP systems is constantly updated through transactions flowing in from various sources, OLAP data stores are typically refreshed at a much slower intervals, depending on business needs.</span></span> <span data-ttu-id="2fa7b-193">這表示 OLAP 系統較適用於策略性商業決策，而不是對變更的立即回應。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-193">This means OLAP systems are better suited for strategic business decisions, rather than immediate responses to changes.</span></span> <span data-ttu-id="2fa7b-194">此外，也必須規劃某種程度的資料清理和協調流程，讓 OLAP 資料存放區保持在最新狀態。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-194">Also, some level of data cleansing and orchestration needs to be planned to keep the OLAP data stores up-to-date.</span></span>
- <span data-ttu-id="2fa7b-195">不同於出現在 OLTP 系統中的傳統正規化關聯式資料表，OLAP 資料模型通常是多維度的。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-195">Unlike traditional, normalized, relational tables found in OLTP systems, OLAP data models tend to be multidimensional.</span></span> <span data-ttu-id="2fa7b-196">這樣就不容易甚至無法直接對應至實體關聯性或物件導向模型，因為每個屬性會對應至一個資料行。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-196">This makes it difficult or impossible to directly map to entity-relationship or object-oriented models, where each attribute is mapped to one column.</span></span> <span data-ttu-id="2fa7b-197">相對地，OLAP 系統通常會以星形或雪花式結構描述來取代傳統的正規化。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-197">Instead, OLAP systems typically use a star or snowflake schema in place of traditional normalization.</span></span>

## <a name="olap-in-azure"></a><span data-ttu-id="2fa7b-198">Azure 中的 OLAP</span><span class="sxs-lookup"><span data-stu-id="2fa7b-198">OLAP in Azure</span></span>

<span data-ttu-id="2fa7b-199">在 Azure 中，保存在 OLTP 系統 (例如 Azure SQL Database) 中的資料會複製到 OLAP 系統中，例如 [Azure Analysis Services](/azure/analysis-services/analysis-services-overview)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-199">In Azure, data held in OLTP systems such as Azure SQL Database is copied into the OLAP system, such as [Azure Analysis Services](/azure/analysis-services/analysis-services-overview).</span></span> <span data-ttu-id="2fa7b-200">資料探索和視覺效果工具 (像是 [Power BI](https://powerbi.microsoft.com)、Excel 和第三方工具) 會連線至 Analysis Services 伺服器，並且可讓使用者以高度互動和豐富的視覺化方式深入了解模型資料。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-200">Data exploration and visualization tools like [Power BI](https://powerbi.microsoft.com), Excel, and third-party options connect to Analysis Services servers and provide users with highly interactive and visually rich insights into the modeled data.</span></span> <span data-ttu-id="2fa7b-201">從 OLTP 到 OLAP 的資料流程通常會使用 SQL Server Integration Services 進行協調，而這些服務可使用 [Azure Data Factory](/azure/data-factory/concepts-integration-runtime) 來執行。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-201">The flow of data from OLTP data to OLAP is typically orchestrated using SQL Server Integration Services, which can be executed using [Azure Data Factory](/azure/data-factory/concepts-integration-runtime).</span></span>

<span data-ttu-id="2fa7b-202">在 Azure 中，下列所有資料存放區均符合 OLAP 的核心需求：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-202">In Azure, all of the following data stores will meet the core requirements for OLAP:</span></span>

- [<span data-ttu-id="2fa7b-203">包含資料行存放區索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="2fa7b-203">SQL Server with Columnstore indexes</span></span>](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics)
- [<span data-ttu-id="2fa7b-204">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-204">Azure Analysis Services</span></span>](/azure/analysis-services/analysis-services-overview)
- [<span data-ttu-id="2fa7b-205">SQL Server Analysis Services (SSAS)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-205">SQL Server Analysis Services (SSAS)</span></span>](/sql/analysis-services/analysis-services)

<span data-ttu-id="2fa7b-206">SQL Server Analysis Services (SSAS) 可提供適用於商業智慧應用程式的 OLAP 和資料採礦功能。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-206">SQL Server Analysis Services (SSAS) offers OLAP and data mining functionality for business intelligence applications.</span></span> <span data-ttu-id="2fa7b-207">您可以將 SSAS 安裝在本機伺服器上，也可以將其裝載在 Azure 的虛擬機器中。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-207">You can either install SSAS on local servers, or host within a virtual machine in Azure.</span></span> <span data-ttu-id="2fa7b-208">Azure Analysis Services 是完全受控的服務，可提供與 SSAS 相同的主要功能。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-208">Azure Analysis Services is a fully managed service that provides the same major features as SSAS.</span></span> <span data-ttu-id="2fa7b-209">Azure Analysis Services 支援連線到貴組織之雲端和內部部署環境的[各種資料來源](/azure/analysis-services/analysis-services-datasource)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-209">Azure Analysis Services supports connecting to [various data sources](/azure/analysis-services/analysis-services-datasource) in the cloud and on-premises in your organization.</span></span>

<span data-ttu-id="2fa7b-210">叢集化的資料行存放區索引可在 SQL Server 2014 和更新版本以及 Azure SQL Database 中取得，而且適用於 OLAP 工作負載。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-210">Clustered Columnstore indexes are available in SQL Server 2014 and above, as well as Azure SQL Database, and are ideal for OLAP workloads.</span></span> <span data-ttu-id="2fa7b-211">不過，從 SQL Server 2016 (包括 Azure SQL Database) 開始，您已可透過使用可更新的非叢集化資料行存放區索引來利用混合式交易式/分析處理 (HTAP)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-211">However, beginning with SQL Server 2016 (including Azure SQL Database), you can take advantage of hybrid transactional/analytics processing (HTAP) through the use of updateable nonclustered columnstore indexes.</span></span> <span data-ttu-id="2fa7b-212">HTAP 可讓您在相同平台上執行 OLTP 與 OLAP 處理，讓您不必儲存多個資料複本，也不需要有不同的 OLTP 與 OLAP 系統。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-212">HTAP enables you to perform OLTP and OLAP processing on the same platform, which removes the need to store multiple copies of your data, and eliminates the need for distinct OLTP and OLAP systems.</span></span> <span data-ttu-id="2fa7b-213">如需詳細資訊，請參閱[開始使用資料行存放區來進行即時作業分析](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-213">For more information, see [Get started with Columnstore for real-time operational analytics](/sql/relational-databases/indexes/get-started-with-columnstore-for-real-time-operational-analytics).</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="2fa7b-214">重要選取準則</span><span class="sxs-lookup"><span data-stu-id="2fa7b-214">Key selection criteria</span></span>

<span data-ttu-id="2fa7b-215">若要縮小選項範圍，請開始回答這些問題：</span><span class="sxs-lookup"><span data-stu-id="2fa7b-215">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="2fa7b-216">您是否想擁有受控服務，而不是自行管理伺服器？</span><span class="sxs-lookup"><span data-stu-id="2fa7b-216">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="2fa7b-217">您是否需要使用 Azure Active Directory (Azure AD) 的安全驗證？</span><span class="sxs-lookup"><span data-stu-id="2fa7b-217">Do you require secure authentication using Azure Active Directory (Azure AD)?</span></span>

- <span data-ttu-id="2fa7b-218">您是否要進行即時分析？</span><span class="sxs-lookup"><span data-stu-id="2fa7b-218">Do you want to conduct real-time analytics?</span></span> <span data-ttu-id="2fa7b-219">如果是，請將您的選擇範圍縮小至支援即時分析的選項。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-219">If so, narrow your options to those that support real-time analytics.</span></span> 

    <span data-ttu-id="2fa7b-220">此內容中的「即時分析」適用於會同時執行操作和分析工作負載的單一資料來源 (例如企業資源規劃 (ERP) 應用程式)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-220">*Real-time analytics* in this context applies to a single data source, such as an enterprise resource planning (ERP) application, that will run both an operational and an analytics workload.</span></span> <span data-ttu-id="2fa7b-221">如果您需要整合多個來源的資料，或是需要使用預先彙總的資料 (如 Cube) 來獲得極致的分析效能，您可能還是需要個別的資料倉儲。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-221">If you need to integrate data from multiple sources, or require extreme analytics performance by using pre-aggregated data such as cubes, you might still require a separate data warehouse.</span></span>

- <span data-ttu-id="2fa7b-222">您是否需要使用預先彙總的資料，例如，為了提供語意模型從而讓商務使用者更容易進行分析？</span><span class="sxs-lookup"><span data-stu-id="2fa7b-222">Do you need to use pre-aggregated data, for example to provide semantic models that make analytics more business user friendly?</span></span> <span data-ttu-id="2fa7b-223">如果是，請選擇支援多維度 Cube 或表格式語意模型的選項。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-223">If yes, choose an option that supports multidimensional cubes or tabular semantic models.</span></span> 

    <span data-ttu-id="2fa7b-224">提供彙總可協助使用者以一致的方式計算資料彙總。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-224">Providing aggregates can help users consistently calculate data aggregates.</span></span> <span data-ttu-id="2fa7b-225">預先彙總的資料在處理跨多個資料列的數個資料行時，也可以提供大幅提升的效能。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-225">Pre-aggregated data can also provide a large performance boost when dealing with several columns across many rows.</span></span> <span data-ttu-id="2fa7b-226">資料可在多維度 Cube 或表格式語意模型中預先彙總。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-226">Data can be pre-aggregated in multidimensional cubes or tabular semantic models.</span></span>

- <span data-ttu-id="2fa7b-227">除了您的 OLTP 資料存放區，您是否需要整合多個來源的資料？</span><span class="sxs-lookup"><span data-stu-id="2fa7b-227">Do you need to integrate data from several sources, beyond your OLTP data store?</span></span> <span data-ttu-id="2fa7b-228">如果是，請考慮可輕鬆整合多個資料來源的選項。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-228">If so, consider options that easily integrate multiple data sources.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="2fa7b-229">功能對照表</span><span class="sxs-lookup"><span data-stu-id="2fa7b-229">Capability matrix</span></span>

<span data-ttu-id="2fa7b-230">下表摘要列出各項功能的主要差異。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-230">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="2fa7b-231">一般功能</span><span class="sxs-lookup"><span data-stu-id="2fa7b-231">General capabilities</span></span>

| | <span data-ttu-id="2fa7b-232">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-232">Azure Analysis Services</span></span> | <span data-ttu-id="2fa7b-233">SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-233">SQL Server Analysis Services</span></span> | <span data-ttu-id="2fa7b-234">包含資料行存放區索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="2fa7b-234">SQL Server with Columnstore Indexes</span></span> | <span data-ttu-id="2fa7b-235">包含資料行存放區索引的 Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="2fa7b-235">Azure SQL Database with Columnstore Indexes</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="2fa7b-236">屬於受控服務</span><span class="sxs-lookup"><span data-stu-id="2fa7b-236">Is managed service</span></span> | <span data-ttu-id="2fa7b-237">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-237">Yes</span></span> | <span data-ttu-id="2fa7b-238">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-238">No</span></span> | <span data-ttu-id="2fa7b-239">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-239">No</span></span> | <span data-ttu-id="2fa7b-240">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-240">Yes</span></span> |
| <span data-ttu-id="2fa7b-241">支援多維度 Cube</span><span class="sxs-lookup"><span data-stu-id="2fa7b-241">Supports multidimensional cubes</span></span> | <span data-ttu-id="2fa7b-242">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-242">No</span></span> | <span data-ttu-id="2fa7b-243">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-243">Yes</span></span> | <span data-ttu-id="2fa7b-244">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-244">No</span></span> | <span data-ttu-id="2fa7b-245">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-245">No</span></span> |
| <span data-ttu-id="2fa7b-246">支援表格式語意模型</span><span class="sxs-lookup"><span data-stu-id="2fa7b-246">Supports tabular semantic models</span></span> | <span data-ttu-id="2fa7b-247">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-247">Yes</span></span> | <span data-ttu-id="2fa7b-248">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-248">Yes</span></span> | <span data-ttu-id="2fa7b-249">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-249">No</span></span> | <span data-ttu-id="2fa7b-250">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-250">No</span></span> |
| <span data-ttu-id="2fa7b-251">可輕鬆整合多個資料來源</span><span class="sxs-lookup"><span data-stu-id="2fa7b-251">Easily integrate multiple data sources</span></span> | <span data-ttu-id="2fa7b-252">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-252">Yes</span></span> | <span data-ttu-id="2fa7b-253">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-253">Yes</span></span> | <span data-ttu-id="2fa7b-254">否 <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="2fa7b-254">No <sup>1</sup></span></span> | <span data-ttu-id="2fa7b-255">否 <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="2fa7b-255">No <sup>1</sup></span></span> |
| <span data-ttu-id="2fa7b-256">支援即時分析</span><span class="sxs-lookup"><span data-stu-id="2fa7b-256">Supports real-time analytics</span></span> | <span data-ttu-id="2fa7b-257">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-257">No</span></span> | <span data-ttu-id="2fa7b-258">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-258">No</span></span> | <span data-ttu-id="2fa7b-259">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-259">Yes</span></span> | <span data-ttu-id="2fa7b-260">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-260">Yes</span></span> |
| <span data-ttu-id="2fa7b-261">需要從來源複製資料的程序</span><span class="sxs-lookup"><span data-stu-id="2fa7b-261">Requires process to copy data from source(s)</span></span> | <span data-ttu-id="2fa7b-262">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-262">Yes</span></span> | <span data-ttu-id="2fa7b-263">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-263">Yes</span></span> | <span data-ttu-id="2fa7b-264">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-264">No</span></span> | <span data-ttu-id="2fa7b-265">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-265">No</span></span> |
| <span data-ttu-id="2fa7b-266">Azure AD 整合</span><span class="sxs-lookup"><span data-stu-id="2fa7b-266">Azure AD integration</span></span> | <span data-ttu-id="2fa7b-267">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-267">Yes</span></span> | <span data-ttu-id="2fa7b-268">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-268">No</span></span> | <span data-ttu-id="2fa7b-269">否 <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="2fa7b-269">No <sup>2</sup></span></span> | <span data-ttu-id="2fa7b-270">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-270">Yes</span></span> |

<span data-ttu-id="2fa7b-271">[1] SQL Server 和 Azure SQL Database 雖無法作為查詢來源並整合多個外部資料來源，但您仍可使用 [SSIS](/sql/integration-services/sql-server-integration-services) 或 [Azure Data Factory](/azure/data-factory/) 建置管線來為您執行此工作。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-271">[1] Although SQL Server and Azure SQL Database cannot be used to query from and integrate multiple external data sources, you can still build a pipeline that does this for you using [SSIS](/sql/integration-services/sql-server-integration-services) or [Azure Data Factory](/azure/data-factory/).</span></span> <span data-ttu-id="2fa7b-272">裝載於 Azure 虛擬機器的 SQL Server 有其他選項，例如連結的伺服器和 [PolyBase](/sql/relational-databases/polybase/polybase-guide)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-272">SQL Server hosted in an Azure VM has additional options, such as linked servers and [PolyBase](/sql/relational-databases/polybase/polybase-guide).</span></span> <span data-ttu-id="2fa7b-273">如需詳細資訊，請參閱[管線協調流程、控制流程和資料移動](../technology-choices/pipeline-orchestration-data-movement.md)。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-273">For more information, see [Pipeline orchestration, control flow, and data movement](../technology-choices/pipeline-orchestration-data-movement.md).</span></span>

<span data-ttu-id="2fa7b-274">[2] 不支援使用 Azure AD 帳戶來連線至 Azure 虛擬機器上所執行的 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-274">[2] Connecting to SQL Server running on an Azure Virtual Machine is not supported using an Azure AD account.</span></span> <span data-ttu-id="2fa7b-275">請改用 Active Directory 網域帳戶。</span><span class="sxs-lookup"><span data-stu-id="2fa7b-275">Use a domain Active Directory account instead.</span></span>

### <a name="scalability-capabilities"></a><span data-ttu-id="2fa7b-276">延展性功能</span><span class="sxs-lookup"><span data-stu-id="2fa7b-276">Scalability Capabilities</span></span>

|                                                  | <span data-ttu-id="2fa7b-277">Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-277">Azure Analysis Services</span></span> | <span data-ttu-id="2fa7b-278">SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="2fa7b-278">SQL Server Analysis Services</span></span> | <span data-ttu-id="2fa7b-279">包含資料行存放區索引的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="2fa7b-279">SQL Server with Columnstore Indexes</span></span> | <span data-ttu-id="2fa7b-280">包含資料行存放區索引的 Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="2fa7b-280">Azure SQL Database with Columnstore Indexes</span></span> |
|--------------------------------------------------|-------------------------|------------------------------|-------------------------------------|---------------------------------------------|
| <span data-ttu-id="2fa7b-281">高可用性的備援區域伺服器</span><span class="sxs-lookup"><span data-stu-id="2fa7b-281">Redundant regional servers for high availability</span></span> |           <span data-ttu-id="2fa7b-282">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-282">Yes</span></span>           |              <span data-ttu-id="2fa7b-283">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-283">No</span></span>              |                 <span data-ttu-id="2fa7b-284">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-284">Yes</span></span>                 |                     <span data-ttu-id="2fa7b-285">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-285">Yes</span></span>                     |
|             <span data-ttu-id="2fa7b-286">支援查詢相應放大</span><span class="sxs-lookup"><span data-stu-id="2fa7b-286">Supports query scale out</span></span>             |           <span data-ttu-id="2fa7b-287">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-287">Yes</span></span>           |              <span data-ttu-id="2fa7b-288">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-288">No</span></span>              |                 <span data-ttu-id="2fa7b-289">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-289">Yes</span></span>                 |                     <span data-ttu-id="2fa7b-290">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-290">No</span></span>                      |
|          <span data-ttu-id="2fa7b-291">動態延展性 (相應增加)</span><span class="sxs-lookup"><span data-stu-id="2fa7b-291">Dynamic scalability (scale up)</span></span>          |           <span data-ttu-id="2fa7b-292">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-292">Yes</span></span>           |              <span data-ttu-id="2fa7b-293">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-293">No</span></span>              |                 <span data-ttu-id="2fa7b-294">yes</span><span class="sxs-lookup"><span data-stu-id="2fa7b-294">Yes</span></span>                 |                     <span data-ttu-id="2fa7b-295">否</span><span class="sxs-lookup"><span data-stu-id="2fa7b-295">No</span></span>                      |

