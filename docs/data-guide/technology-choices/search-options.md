---
title: 選擇搜尋資料存放區
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: c0362ff3bc6c115399892d0f066650aaa96af2dd
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244049"
---
# <a name="choosing-a-search-data-store-in-azure"></a><span data-ttu-id="e617c-102">在 Azure 中選擇搜尋資料存放區</span><span class="sxs-lookup"><span data-stu-id="e617c-102">Choosing a search data store in Azure</span></span>

<span data-ttu-id="e617c-103">本文將比較 Azure 中的搜尋資料存放區所適用的技術選項。</span><span class="sxs-lookup"><span data-stu-id="e617c-103">This article compares technology choices for search data stores in Azure.</span></span> <span data-ttu-id="e617c-104">搜尋資料存放區可用來建立及儲存可對自由格式文字執行搜尋的特殊索引。</span><span class="sxs-lookup"><span data-stu-id="e617c-104">A seach data store is used to create and store specialized indexes for performing searches on free-form text.</span></span> <span data-ttu-id="e617c-105">已編製索引的文字可存放於個別的資料存放區中，例如 Blob 儲存體。</span><span class="sxs-lookup"><span data-stu-id="e617c-105">The text that is indexed may reside in a separate data store, such as blob storage.</span></span> <span data-ttu-id="e617c-106">應用程式對搜尋資料存放區提交查詢時，其結果會是相符文件的清單。</span><span class="sxs-lookup"><span data-stu-id="e617c-106">An application submits a query to the search data store, and the result is a list of matching documents.</span></span> <span data-ttu-id="e617c-107">如需關於此案例的詳細資訊，請參閱[處理自由格式文字以供搜尋之用](../scenarios/search.md)。</span><span class="sxs-lookup"><span data-stu-id="e617c-107">For more information about this scenario, see [Processing free-form text for search](../scenarios/search.md).</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="what-are-your-options-when-choosing-a-search-data-store"></a><span data-ttu-id="e617c-108">選擇搜尋資料存放區時有哪些選項？</span><span class="sxs-lookup"><span data-stu-id="e617c-108">What are your options when choosing a search data store?</span></span>

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="e617c-109">在 Azure 中，下列所有資料存放區皆提供搜尋索引，而符合對自由格式文字資料進行搜尋的核心需求：</span><span class="sxs-lookup"><span data-stu-id="e617c-109">In Azure, all of the following data stores will meet the core requirements for search against free-form text data by providing a search index:</span></span>

- [<span data-ttu-id="e617c-110">Azure 搜尋服務</span><span class="sxs-lookup"><span data-stu-id="e617c-110">Azure Search</span></span>](/azure/search/search-what-is-azure-search)
- [<span data-ttu-id="e617c-111">Elasticsearch</span><span class="sxs-lookup"><span data-stu-id="e617c-111">Elasticsearch</span></span>](https://azuremarketplace.microsoft.com/marketplace/apps/elastic.elasticsearch?tab=Overview)
- [<span data-ttu-id="e617c-112">使用 Solr 的 HDInsight</span><span class="sxs-lookup"><span data-stu-id="e617c-112">HDInsight with Solr</span></span>](/azure/hdinsight/hdinsight-hadoop-solr-install-linux)
- [<span data-ttu-id="e617c-113">使用全文檢索搜尋的 Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="e617c-113">Azure SQL Database with full text search</span></span>](/sql/relational-databases/search/full-text-search)

## <a name="key-selection-criteria"></a><span data-ttu-id="e617c-114">關鍵選取準則</span><span class="sxs-lookup"><span data-stu-id="e617c-114">Key selection criteria</span></span>

<span data-ttu-id="e617c-115">針對搜尋案例，在您開始根據需求選擇適當的搜尋資料存放區之前，請先回答下列問題：</span><span class="sxs-lookup"><span data-stu-id="e617c-115">For search scenarios, begin choosing the appropriate search data store for your needs by answering these questions:</span></span>

- <span data-ttu-id="e617c-116">您是需要受控服務，而不是要管理您自己的伺服器嗎？</span><span class="sxs-lookup"><span data-stu-id="e617c-116">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="e617c-117">您可以在設計階段指定索引結構描述嗎？</span><span class="sxs-lookup"><span data-stu-id="e617c-117">Can you specify your index schema at design time?</span></span> <span data-ttu-id="e617c-118">若否，請選擇支援可更新結構描述的選項。</span><span class="sxs-lookup"><span data-stu-id="e617c-118">If not, choose an option that supports updateable schemas.</span></span>

- <span data-ttu-id="e617c-119">您是只需要全文檢索搜尋的索引，還是也需要能夠快速彙總數值資料和其他分析？</span><span class="sxs-lookup"><span data-stu-id="e617c-119">Do you need an index only for full-text search, or do you also need rapid aggregation of numeric data and other analytics?</span></span> <span data-ttu-id="e617c-120">如果您需要的功能不只是全文檢索搜尋，請考慮使用支援更多分析功能的選項。</span><span class="sxs-lookup"><span data-stu-id="e617c-120">If you need functionality beyond full-text search, consider options that support additional analytics.</span></span>

- <span data-ttu-id="e617c-121">您是否需要記錄分析的搜尋索引，同時支援對已編製索引的資料進行記錄收集、彙總和視覺呈現？</span><span class="sxs-lookup"><span data-stu-id="e617c-121">Do you need a search index for log analytics, with support for log collection, aggregation, and visualizations on indexed data?</span></span> <span data-ttu-id="e617c-122">如果是，請考慮使用 Elasticsearch，這是記錄分析堆疊的一部分。</span><span class="sxs-lookup"><span data-stu-id="e617c-122">If so, consider Elasticsearch, which is part of a log analytics stack.</span></span>

- <span data-ttu-id="e617c-123">您需要為常用文件格式 (例如 PDF、Word、PowerPoint 和 Excel) 的資料編製索引嗎？</span><span class="sxs-lookup"><span data-stu-id="e617c-123">Do you need to index data in common document formats such as PDF, Word, PowerPoint, and Excel?</span></span> <span data-ttu-id="e617c-124">如果是，請選擇提供文件索引子的選項。</span><span class="sxs-lookup"><span data-stu-id="e617c-124">If yes, choose an option that provides document indexers.</span></span>

- <span data-ttu-id="e617c-125">您的資料庫是否有特定的安全需求？</span><span class="sxs-lookup"><span data-stu-id="e617c-125">Does your database have specific security needs?</span></span> <span data-ttu-id="e617c-126">如果是，請考慮使用下列安全性功能。</span><span class="sxs-lookup"><span data-stu-id="e617c-126">If yes, consider the security features listed below.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="e617c-127">功能對照表</span><span class="sxs-lookup"><span data-stu-id="e617c-127">Capability matrix</span></span>

<span data-ttu-id="e617c-128">下表摘要列出各項功能的主要差異。</span><span class="sxs-lookup"><span data-stu-id="e617c-128">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="e617c-129">一般功能</span><span class="sxs-lookup"><span data-stu-id="e617c-129">General capabilities</span></span>

| | <span data-ttu-id="e617c-130">Azure 搜尋服務</span><span class="sxs-lookup"><span data-stu-id="e617c-130">Azure Search</span></span> | <span data-ttu-id="e617c-131">Elasticsearch</span><span class="sxs-lookup"><span data-stu-id="e617c-131">Elasticsearch</span></span> | <span data-ttu-id="e617c-132">使用 Solr 的 HDInsight</span><span class="sxs-lookup"><span data-stu-id="e617c-132">HDInsight with Solr</span></span> | <span data-ttu-id="e617c-133">SQL Database</span><span class="sxs-lookup"><span data-stu-id="e617c-133">SQL Database</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="e617c-134">屬於受控服務</span><span class="sxs-lookup"><span data-stu-id="e617c-134">Is managed service</span></span> | <span data-ttu-id="e617c-135">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-135">Yes</span></span> | <span data-ttu-id="e617c-136">否</span><span class="sxs-lookup"><span data-stu-id="e617c-136">No</span></span> | <span data-ttu-id="e617c-137">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-137">Yes</span></span> | <span data-ttu-id="e617c-138">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-138">Yes</span></span> |  
| <span data-ttu-id="e617c-139">REST API</span><span class="sxs-lookup"><span data-stu-id="e617c-139">REST API</span></span> | <span data-ttu-id="e617c-140">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-140">Yes</span></span> | <span data-ttu-id="e617c-141">是</span><span class="sxs-lookup"><span data-stu-id="e617c-141">Yes</span></span> | <span data-ttu-id="e617c-142">是</span><span class="sxs-lookup"><span data-stu-id="e617c-142">Yes</span></span> | <span data-ttu-id="e617c-143">否</span><span class="sxs-lookup"><span data-stu-id="e617c-143">No</span></span> |
| <span data-ttu-id="e617c-144">可程式性</span><span class="sxs-lookup"><span data-stu-id="e617c-144">Programmability</span></span> | <span data-ttu-id="e617c-145">.NET</span><span class="sxs-lookup"><span data-stu-id="e617c-145">.NET</span></span> | <span data-ttu-id="e617c-146">Java</span><span class="sxs-lookup"><span data-stu-id="e617c-146">Java</span></span> | <span data-ttu-id="e617c-147">Java</span><span class="sxs-lookup"><span data-stu-id="e617c-147">Java</span></span> | <span data-ttu-id="e617c-148">T-SQL</span><span class="sxs-lookup"><span data-stu-id="e617c-148">T-SQL</span></span> |
| <span data-ttu-id="e617c-149">常用檔案類型 (PDF、DOCX、TXT 等) 的文件索引子</span><span class="sxs-lookup"><span data-stu-id="e617c-149">Document indexers for common file types (PDF, DOCX, TXT, and so on)</span></span> | <span data-ttu-id="e617c-150">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-150">Yes</span></span> | <span data-ttu-id="e617c-151">否</span><span class="sxs-lookup"><span data-stu-id="e617c-151">No</span></span> | <span data-ttu-id="e617c-152">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-152">Yes</span></span> | <span data-ttu-id="e617c-153">否</span><span class="sxs-lookup"><span data-stu-id="e617c-153">No</span></span> |

### <a name="manageability-capabilities"></a><span data-ttu-id="e617c-154">可管理性功能</span><span class="sxs-lookup"><span data-stu-id="e617c-154">Manageability capabilities</span></span>

| | <span data-ttu-id="e617c-155">Azure 搜尋服務</span><span class="sxs-lookup"><span data-stu-id="e617c-155">Azure Search</span></span> | <span data-ttu-id="e617c-156">Elasticsearch</span><span class="sxs-lookup"><span data-stu-id="e617c-156">Elasticsearch</span></span> | <span data-ttu-id="e617c-157">使用 Solr 的 HDInsight</span><span class="sxs-lookup"><span data-stu-id="e617c-157">HDInsight with Solr</span></span> | <span data-ttu-id="e617c-158">SQL Database</span><span class="sxs-lookup"><span data-stu-id="e617c-158">SQL Database</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="e617c-159">可更新的結構描述</span><span class="sxs-lookup"><span data-stu-id="e617c-159">Updateable schema</span></span> | <span data-ttu-id="e617c-160">否</span><span class="sxs-lookup"><span data-stu-id="e617c-160">No</span></span> | <span data-ttu-id="e617c-161">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-161">Yes</span></span> | <span data-ttu-id="e617c-162">是</span><span class="sxs-lookup"><span data-stu-id="e617c-162">Yes</span></span> | <span data-ttu-id="e617c-163">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-163">Yes</span></span> |
| <span data-ttu-id="e617c-164">支援相應放大</span><span class="sxs-lookup"><span data-stu-id="e617c-164">Supports scale out</span></span>  | <span data-ttu-id="e617c-165">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-165">Yes</span></span> | <span data-ttu-id="e617c-166">是</span><span class="sxs-lookup"><span data-stu-id="e617c-166">Yes</span></span> | <span data-ttu-id="e617c-167">是</span><span class="sxs-lookup"><span data-stu-id="e617c-167">Yes</span></span> | <span data-ttu-id="e617c-168">否</span><span class="sxs-lookup"><span data-stu-id="e617c-168">No</span></span> |

### <a name="analytic-workload-capabilities"></a><span data-ttu-id="e617c-169">分析工作負載功能</span><span class="sxs-lookup"><span data-stu-id="e617c-169">Analytic workload capabilities</span></span>

| | <span data-ttu-id="e617c-170">Azure 搜尋服務</span><span class="sxs-lookup"><span data-stu-id="e617c-170">Azure Search</span></span> | <span data-ttu-id="e617c-171">Elasticsearch</span><span class="sxs-lookup"><span data-stu-id="e617c-171">Elasticsearch</span></span> | <span data-ttu-id="e617c-172">使用 Solr 的 HDInsight</span><span class="sxs-lookup"><span data-stu-id="e617c-172">HDInsight with Solr</span></span> | <span data-ttu-id="e617c-173">SQL Database</span><span class="sxs-lookup"><span data-stu-id="e617c-173">SQL Database</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="e617c-174">支援全文檢索搜尋以外的分析</span><span class="sxs-lookup"><span data-stu-id="e617c-174">Supports analytics beyond full text search</span></span> | <span data-ttu-id="e617c-175">否</span><span class="sxs-lookup"><span data-stu-id="e617c-175">No</span></span> | <span data-ttu-id="e617c-176">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-176">Yes</span></span> | <span data-ttu-id="e617c-177">是</span><span class="sxs-lookup"><span data-stu-id="e617c-177">Yes</span></span> | <span data-ttu-id="e617c-178">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-178">Yes</span></span> |
| <span data-ttu-id="e617c-179">記錄分析堆疊的一部分</span><span class="sxs-lookup"><span data-stu-id="e617c-179">Part of a log analytics stack</span></span> | <span data-ttu-id="e617c-180">否</span><span class="sxs-lookup"><span data-stu-id="e617c-180">No</span></span> | <span data-ttu-id="e617c-181">是 (ELK)</span><span class="sxs-lookup"><span data-stu-id="e617c-181">Yes (ELK)</span></span> |  <span data-ttu-id="e617c-182">否</span><span class="sxs-lookup"><span data-stu-id="e617c-182">No</span></span> | <span data-ttu-id="e617c-183">否</span><span class="sxs-lookup"><span data-stu-id="e617c-183">No</span></span> |
| <span data-ttu-id="e617c-184">支援語意搜尋</span><span class="sxs-lookup"><span data-stu-id="e617c-184">Supports semantic search</span></span> | <span data-ttu-id="e617c-185">是 (僅尋找類似文件)</span><span class="sxs-lookup"><span data-stu-id="e617c-185">Yes (find similar documents only)</span></span> | <span data-ttu-id="e617c-186">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-186">Yes</span></span> | <span data-ttu-id="e617c-187">是</span><span class="sxs-lookup"><span data-stu-id="e617c-187">Yes</span></span> | <span data-ttu-id="e617c-188">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-188">Yes</span></span> |

### <a name="security-capabilities"></a><span data-ttu-id="e617c-189">安全性功能</span><span class="sxs-lookup"><span data-stu-id="e617c-189">Security capabilities</span></span>

| | <span data-ttu-id="e617c-190">Azure 搜尋服務</span><span class="sxs-lookup"><span data-stu-id="e617c-190">Azure Search</span></span> | <span data-ttu-id="e617c-191">Elasticsearch</span><span class="sxs-lookup"><span data-stu-id="e617c-191">Elasticsearch</span></span> | <span data-ttu-id="e617c-192">使用 Solr 的 HDInsight</span><span class="sxs-lookup"><span data-stu-id="e617c-192">HDInsight with Solr</span></span> | <span data-ttu-id="e617c-193">SQL Database</span><span class="sxs-lookup"><span data-stu-id="e617c-193">SQL Database</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="e617c-194">資料列層級安全性</span><span class="sxs-lookup"><span data-stu-id="e617c-194">Row-level security</span></span> | <span data-ttu-id="e617c-195">部分 (需要應用程式查詢以依群組識別碼篩選)</span><span class="sxs-lookup"><span data-stu-id="e617c-195">Partial (requires application query to filter by group id)</span></span> | <span data-ttu-id="e617c-196">部分 (需要應用程式查詢以依群組識別碼篩選)</span><span class="sxs-lookup"><span data-stu-id="e617c-196">Partial (requires application query to filter by group id)</span></span> | <span data-ttu-id="e617c-197">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-197">Yes</span></span> | <span data-ttu-id="e617c-198">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-198">Yes</span></span> |
| <span data-ttu-id="e617c-199">透明資料加密</span><span class="sxs-lookup"><span data-stu-id="e617c-199">Transparent data encryption</span></span> | <span data-ttu-id="e617c-200">否</span><span class="sxs-lookup"><span data-stu-id="e617c-200">No</span></span> | <span data-ttu-id="e617c-201">否</span><span class="sxs-lookup"><span data-stu-id="e617c-201">No</span></span> | <span data-ttu-id="e617c-202">否</span><span class="sxs-lookup"><span data-stu-id="e617c-202">No</span></span> | <span data-ttu-id="e617c-203">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-203">Yes</span></span> |  
| <span data-ttu-id="e617c-204">限制對特定 IP 位址的存取</span><span class="sxs-lookup"><span data-stu-id="e617c-204">Restrict access to specific IP addresses</span></span> | <span data-ttu-id="e617c-205">否</span><span class="sxs-lookup"><span data-stu-id="e617c-205">No</span></span> | <span data-ttu-id="e617c-206">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-206">Yes</span></span> | <span data-ttu-id="e617c-207">是</span><span class="sxs-lookup"><span data-stu-id="e617c-207">Yes</span></span> | <span data-ttu-id="e617c-208">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-208">Yes</span></span> |
| <span data-ttu-id="e617c-209">限定為僅允許虛擬網路存取</span><span class="sxs-lookup"><span data-stu-id="e617c-209">Restrict access to allow virtual network access only</span></span> | <span data-ttu-id="e617c-210">否</span><span class="sxs-lookup"><span data-stu-id="e617c-210">No</span></span> | <span data-ttu-id="e617c-211">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-211">Yes</span></span> | <span data-ttu-id="e617c-212">是</span><span class="sxs-lookup"><span data-stu-id="e617c-212">Yes</span></span> | <span data-ttu-id="e617c-213">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-213">Yes</span></span> |  
| <span data-ttu-id="e617c-214">Active Directory 驗證 (整合式驗證)</span><span class="sxs-lookup"><span data-stu-id="e617c-214">Active Directory authentication (integrated authentication)</span></span> | <span data-ttu-id="e617c-215">否</span><span class="sxs-lookup"><span data-stu-id="e617c-215">No</span></span> | <span data-ttu-id="e617c-216">否</span><span class="sxs-lookup"><span data-stu-id="e617c-216">No</span></span> | <span data-ttu-id="e617c-217">否</span><span class="sxs-lookup"><span data-stu-id="e617c-217">No</span></span> | <span data-ttu-id="e617c-218">yes</span><span class="sxs-lookup"><span data-stu-id="e617c-218">Yes</span></span> |

## <a name="see-also"></a><span data-ttu-id="e617c-219">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e617c-219">See also</span></span>

[<span data-ttu-id="e617c-220">處理自由格式文字以供搜尋之用</span><span class="sxs-lookup"><span data-stu-id="e617c-220">Processing free-form text for search</span></span>](../scenarios/search.md)
